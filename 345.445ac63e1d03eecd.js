(self.webpackChunkSpazioZero=self.webpackChunkSpazioZero||[]).push([[345],{2345:(kt,b,T)=>{"use strict";T.r(b),T.d(b,{RicercaDocumentiModule:()=>ht});var k=T(6895),h=T(1039),l=T(7340),r=T(433),d=T(9300),g=T(8372),w=T(9751),m=T(8421);const{isArray:v}=Array;var u=T(515),o=T(5403),s=T(3269);var p=T(585),y=T(6652),t=T(8274),S=T(9799),B=T(4004),D=T(529);class L{constructor(x){this._http=x}documentiPerAnagrafiche(x=0,A=10){return this._http.get("/documentiPerAnagrafiche").pipe((0,B.U)(q=>({total:q.length,data:JSON.parse(JSON.stringify(q)).slice(x,A)})))}}L.\u0275fac=function(x){return new(x||L)(t.LFG(D.eN))},L.\u0275prov=t.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"});var Z=T(2775);function H(W,x){1&W&&(t.ynx(0),t.TgZ(1,"span",3),t._UZ(2,"div",4),t.qZA(),t.BQk())}function tt(W,x){1&W&&(t.ynx(0),t.TgZ(1,"span",5),t._UZ(2,"div",4),t.qZA(),t.BQk())}function _(W,x){if(1&W&&(t.ynx(0)(1,1),t.YNc(2,H,3,0,"ng-container",2),t.YNc(3,tt,3,0,"ng-container",2),t.BQk()()),2&W){const A=t.oxw();t.xp6(1),t.Q6J("ngSwitch",A.typeInput),t.xp6(1),t.Q6J("ngSwitchCase","input"),t.xp6(1),t.Q6J("ngSwitchCase","select")}}class N{constructor(){this.start=!0,this.typeInput="input"}ngOnInit(){}}N.\u0275fac=function(x){return new(x||N)},N.\u0275cmp=t.Xpm({type:N,selectors:[["app-spinner-input-form"]],inputs:{start:"start",typeInput:"typeInput"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"position-input"],[1,"progress-spinner","progress-spinner-active"],[1,"position-select"]],template:function(x,A){1&x&&t.YNc(0,_,4,3,"ng-container",0),2&x&&t.Q6J("ngIf",A.start)},dependencies:[k.O5,k.RF,k.n9],styles:[".position-select[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:12px}.position-select[_ngcontent-%COMP%]   .progress-spinner[_ngcontent-%COMP%]{width:22px;height:22px;border-width:2px}"]});var n=T(3556),F=T(7125);class et{setBackgroundStyle(x){return{"background-image":`url(${x=x||""})`}}validatePhone(x){if("string"==typeof x)return x;if("object"==typeof x){let A=x.cell;if(A)return A;for(let q in x)if(x[q])return x[q]}throw"No phone number provided."}validateOnlyNumber(x){let A=x.which?x.which:x.keyCode;var q=x.ctrlKey||x.metaKey;if(q&&67==A)return!1;let $=x.target.value;if(q&&86==A)setTimeout(()=>{if(isNaN(x.target.value))return x.target.value=$,x.preventDefault(),!1},1);else if(46!=A&&190!=A&&110!=A&&A>31&&(A<48||A>57)&&(A<96||A>105)&&(A<37||A>40))return x.preventDefault(),!1;return!0}contains(x,A){return x.indexOf(A)>-1}browserDetected(){let x=!!window.opr||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,A=-1!=navigator.userAgent.indexOf("Firefox"),q=Object.prototype.toString.call(window.htmlElement).indexOf("Constructor")>0||-1!=navigator.userAgent.indexOf("Safari"),$=!!document.documentMode,ft=!$&&!!window.StyleMedia||-1!=navigator.userAgent.indexOf("MSIE")||!!document.documentMode;return window.chrome&&!x||-1!=navigator.userAgent.indexOf("Chrome")?"isChrome":A?"isFirefox":$||ft?"isIE":q?"isSafari":""}detectedModulePath(x){let A=x.slice(1),q=A.indexOf("/");return A=A.substring(0,-1!=q?q:A.length),A}}et.\u0275fac=function(x){return new(x||et)},et.\u0275prov=t.Yz7({token:et,factory:et.\u0275fac,providedIn:"root"});class M{constructor(x,A){this._el=x,this._commonSrv=A}onKeyDown(x){try{this._commonSrv.validateOnlyNumber(x)}catch{}}}M.\u0275fac=function(x){return new(x||M)(t.Y36(t.SBq),t.Y36(et))},M.\u0275dir=t.lG2({type:M,selectors:[["","onlyNumber",""]],hostBindings:function(x,A){1&x&&t.NdJ("keydown",function($){return A.onKeyDown($)})}});class rt{constructor(x){this.el=x,this.regex=new RegExp(/^-?[0-9]+(\[0-9]*){0,1}$/g),this.specialKeys=["Backspace","Tab","End","Home","-"]}onKeyDown(x){if(-1!==this.specialKeys.indexOf(x.key))return;let q=this.el.nativeElement.value.concat(x.key);q&&!String(q).match(this.regex)&&x.preventDefault()}}rt.\u0275fac=function(x){return new(x||rt)(t.Y36(t.SBq))},rt.\u0275dir=t.lG2({type:rt,selectors:[["","onNumber",""]],hostBindings:function(x,A){1&x&&t.NdJ("keydown",function($){return A.onKeyDown($)})}});var j=T(5861),nt=T(3173),z=T(5650),E=T(4327),V=T(9808),Q=T(1481),Y=T(6853);const lt=["modalCarouselDoc"],dt=["menuMoreAction"],it=["splideFiles"];function at(W,x){if(1&W&&(t.TgZ(0,"li",30)(1,"div",31)(2,"div",32),t._UZ(3,"img",33),t.qZA()()()),2&W){const A=x.$implicit;t.xp6(3),t.Q6J("src",A,t.LSH)}}function ut(W,x){1&W&&(t.TgZ(0,"p",34),t._uU(1," Nessuna immagine trovata "),t.qZA())}class ct{set setDocument(x){const A=JSON.parse(JSON.stringify(x||{}));A.immagini=(A.immagini||[]).map(q=>q),this.documento=A}constructor(x,A){this.sanitizer=x,this._imageService=A,this.outClose=new t.vpe,this.person=null,this.documento=null}ngOnInit(){}ngAfterViewInit(){this.handlerMenuMoreAction=new nt.Lt(this.menuMoreAction?.nativeElement),this.handlerModal=new nt.u_(this.modal?.nativeElement),this.handlerModal?.show(),this.modal?.nativeElement.addEventListener("hidden.bs.modal",()=>this.closeModal()),this.handlerSplideFiles=new nt.g4(this.splideFiles?.nativeElement)}closeModal(){this.handlerModal?.hide(),this.outClose.emit(!0)}toogleMenu(){this.handlerMenuMoreAction?.toggle()}print(){let x=window.open("about:blank","_new");x?.document.open(),x?.document.write(this.sourceToPrint()),x?.document.close(),x?.window.print()}sourceToPrint(){let q="";return this.documento.immagini.map($=>{q+=`<div class="container-img"><img src="${$}" /></div> <div style="page-break-after:always;"></div>`}),`\n      <html>\n        <head>\n        <title>SpazioZero</title>\n         \n      <style>\n        .container-img {\n          max-width: 595px;\n          max-height: 842px;\n        }\n\n        img {\n          max-width: 100%;\n          max-height: 100%;\n        }\n\n      </style>\n    \n        </head>\n        <body>\n            ${q}\n            \n        <script>\n          window.addEventListener('afterprint', (event) => {\n            window.close();\n          });\n        <\/script>\n    \n        </body>\n      </html>`}download(){var x=this;return(0,j.Z)(function*(){x.documento.immagini.length>1?yield x.downloadZip(x.documento.immagini):x.downloadSimple(x.documento.immagini[0])})()}downloadZip(x){var A=this;return(0,j.Z)(function*(){const q=[];x.map(function(){var ft=(0,j.Z)(function*(mt){q.push((0,V.n)(A._imageService.getDataBlob(mt)))});return function(mt){return ft.apply(this,arguments)}}());const $=yield Promise.all(q);A.generateZip($)})()}generateZip(x){const A=`documenti_${(new Date).toLocaleString()}.zip`,q=new z;for(let $=0;$<x.length;$++)q.file(`documento_${$+1}.jpg`,x[$],{binary:!0});q.generateAsync({type:"blob"}).then($=>{(0,E.saveAs)($,A)})}downloadSimple(x){this._imageService.getData(x).subscribe({next:A=>{const q=`documento_${(new Date).toLocaleString()}.png`,$=document.createElement("a");$.setAttribute("download",q),$.setAttribute("href",A),$.click()},error:A=>{console.log(A),window.open(x,"_blank")}})}}function gt(W,x){if(1&W){const A=t.EpF();t.ynx(0),t.TgZ(1,"app-icon",47),t.NdJ("click",function(){t.CHM(A);const $=t.oxw();return t.KtG($.searchControl.setValue(""))}),t.qZA(),t.BQk()}}function _t(W,x){1&W&&t._UZ(0,"app-icon",48)}function e(W,x){if(1&W&&(t.TgZ(0,"option",49),t._uU(1),t.qZA()),2&W){const A=x.$implicit;t.Q6J("value",A.tipoDocumentoId),t.xp6(1),t.Oqu(A.tipoDocumentoDesc)}}function R(W,x){if(1&W&&(t.TgZ(0,"option",49),t._uU(1),t.qZA()),2&W){const A=x.$implicit;t.Q6J("value",A.tipoAttoId),t.xp6(1),t.Oqu(A.tipoAttoDesc)}}function O(W,x){if(1&W){const A=t.EpF();t.TgZ(0,"div",19)(1,"label",50),t._uU(2,"Tipo di atto"),t.qZA(),t.TgZ(3,"select",51),t.NdJ("change",function(){t.CHM(A);const $=t.oxw();return t.KtG($.changeTipoAtto())}),t.TgZ(4,"option",22),t._uU(5,"Scegli un'opzione"),t.qZA(),t.YNc(6,R,2,2,"option",23),t.qZA()()}if(2&W){const A=t.oxw();t.xp6(6),t.Q6J("ngForOf",A.tipiAtto)}}function f(W,x){if(1&W&&(t.TgZ(0,"option",49),t._uU(1),t.qZA()),2&W){const A=x.$implicit;t.Q6J("value",A.tipoParteId),t.xp6(1),t.Oqu(A.tipoParteDesc)}}function c(W,x){if(1&W){const A=t.EpF();t.TgZ(0,"div",19)(1,"label",52),t._uU(2,"Parte"),t.qZA(),t.TgZ(3,"select",53),t.NdJ("change",function(){t.CHM(A);const $=t.oxw();return t.KtG($.changeParte())}),t.TgZ(4,"option",22),t._uU(5,"Scegli un'opzione"),t.qZA(),t.YNc(6,f,2,2,"option",23),t.qZA()()}if(2&W){const A=t.oxw();t.xp6(6),t.Q6J("ngForOf",A.tipiParte)}}function C(W,x){if(1&W&&(t.TgZ(0,"option",49),t._uU(1),t.qZA()),2&W){const A=x.$implicit;t.Q6J("value",A.tipoSerieId),t.xp6(1),t.Oqu(A.tipoSerieDesc)}}function U(W,x){if(1&W&&(t.TgZ(0,"div",19)(1,"label",54),t._uU(2,"Serie"),t.qZA(),t.TgZ(3,"select",55)(4,"option",22),t._uU(5,"Scegli un'opzione"),t.qZA(),t.YNc(6,C,2,2,"option",23),t.qZA()()),2&W){const A=t.oxw();t.xp6(6),t.Q6J("ngForOf",A.tipiSerie)}}function P(W,x){if(1&W){const A=t.EpF();t.TgZ(0,"li")(1,"a",57),t.NdJ("click",function(){const ft=t.CHM(A).$implicit,mt=t.oxw(2).$implicit,xt=t.oxw();return t.KtG(xt.openModalCarousel(mt,ft))}),t.TgZ(2,"span"),t._uU(3),t.qZA()()()}if(2&W){const A=x.$implicit;t.xp6(3),t.Oqu(A.documentoDesc)}}function I(W,x){if(1&W&&(t.ynx(0),t.TgZ(1,"ul",56),t.YNc(2,P,4,1,"li",43),t.qZA(),t.BQk()),2&W){const A=t.oxw().$implicit;t.xp6(2),t.Q6J("ngForOf",A.documenti)}}function G(W,x){if(1&W&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t.YNc(9,I,3,1,"ng-container",44),t.qZA()()),2&W){const A=x.$implicit;t.xp6(2),t.AsE("",A.nome," ",A.congome,""),t.xp6(2),t.hij(" ",t.xi3(5,5,A.dataNascita,"dd/MM/yyyy"),""),t.xp6(3),t.hij(" ",A.luogoNascita,""),t.xp6(2),t.Q6J("ngIf",A.documenti&&A.documenti.length)}}function K(W,x){1&W&&(t.TgZ(0,"div")(1,"p",58),t._uU(2,"Per iniziare \xe8 necessario filtrare "),t.qZA()())}function J(W,x){if(1&W){const A=t.EpF();t.TgZ(0,"app-pagination",59),t.NdJ("paginationChange",function(){t.CHM(A);const $=t.oxw();return t.KtG($.paginationChange())}),t.qZA()}if(2&W){const A=t.oxw();t.Q6J("currentPagination",A.paginator)}}function X(W,x){if(1&W){const A=t.EpF();t.TgZ(0,"app-modal-carousel-documenti",60),t.NdJ("outClose",function(){t.CHM(A);const $=t.oxw();return t.KtG($.showModalCarouselDoc=!1)}),t.qZA()}if(2&W){const A=t.oxw();t.Q6J("person",A.personSelected)("documento",A.documentSelected)}}ct.\u0275fac=function(x){return new(x||ct)(t.Y36(Q.H7),t.Y36(Y.A))},ct.\u0275cmp=t.Xpm({type:ct,selectors:[["app-modal-carousel-documenti"]],viewQuery:function(x,A){if(1&x&&(t.Gf(lt,5),t.Gf(dt,5),t.Gf(it,5)),2&x){let q;t.iGM(q=t.CRH())&&(A.modal=q.first),t.iGM(q=t.CRH())&&(A.menuMoreAction=q.first),t.iGM(q=t.CRH())&&(A.splideFiles=q.first)}},inputs:{person:"person",setDocument:["documento","setDocument"]},outputs:{outClose:"outClose"},decls:42,vars:8,consts:[[1,"it-example-modal"],["tabindex","-1","role","dialog","id","modalCarouselDoc",1,"modal","modal-lg"],["modalCarouselDoc",""],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","h5"],[1,"d-flex"],[1,"dropdown"],["type","button","aria-expanded","false","data-bs-toggle","dropdown","aria-haspopup","true",1,"btn","btn-icon-custom","dropdown-toggle",3,"click"],["menuMoreAction",""],["name","more-actions"],[1,"dropdown-menu","dropdown-menu-end"],[1,"link-list-wrapper"],[1,"link-list"],[1,"dropdown-item","list-item","cursor-pointer"],["name","info-circle"],[1,"dropdown-item","list-item","cursor-pointer",3,"click"],["name","print"],["name","download"],["type","button",1,"btn","btn-icon-custom",3,"click"],["name","close"],[1,"modal-body"],["data-bs-carousel-splide","",1,"it-carousel-wrapper","splide","hiden_arrows_carousel"],["splideFiles",""],[1,"splide__track"],[1,"splide__list","full-width"],["class","splide__slide lined_slide full-width",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[1,"modal-footer"],[1,"splide__slide","lined_slide","full-width"],[1,"it-single-slide-wrapper"],[1,"container-document"],["alt","",1,"rounded","img-fluid",3,"src"],[1,"text-center"]],template:function(x,A){1&x&&(t.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),t._uU(7),t.qZA(),t.TgZ(8,"div",7)(9,"div",8)(10,"button",9,10),t.NdJ("click",function(){return A.toogleMenu()}),t._UZ(12,"app-icon",11),t.qZA(),t.TgZ(13,"div",12)(14,"div",13)(15,"ul",14)(16,"li")(17,"a",15),t._UZ(18,"app-icon",16),t.TgZ(19,"span"),t._uU(20,"Informazioni"),t.qZA()()(),t.TgZ(21,"li")(22,"a",17),t.NdJ("click",function(){return A.documento.immagini.length?A.print():""}),t._UZ(23,"app-icon",18),t.TgZ(24,"span"),t._uU(25,"Stampa"),t.qZA()()(),t.TgZ(26,"li")(27,"a",17),t.NdJ("click",function(){return A.download()}),t._UZ(28,"app-icon",19),t.TgZ(29,"span"),t._uU(30,"Scarica"),t.qZA()()()()()()(),t.TgZ(31,"button",20),t.NdJ("click",function(){return A.closeModal()}),t._UZ(32,"app-icon",21),t.qZA()()(),t.TgZ(33,"div",22)(34,"div",23,24)(36,"div",25)(37,"ul",26),t.YNc(38,at,4,1,"li",27),t.qZA()()(),t.TgZ(39,"div"),t.YNc(40,ut,2,0,"p",28),t.qZA()(),t._UZ(41,"div",29),t.qZA()()()()),2&x&&(t.xp6(7),t.AsE("",(null==A.person?null:A.person.nome)+" "+(null==A.person?null:A.person.cognome)," - ",null==A.documento?null:A.documento.documentoDesc,""),t.xp6(15),t.ekj("disabled",!A.documento.immagini.length),t.xp6(5),t.ekj("disabled",!A.documento.immagini.length),t.xp6(11),t.Q6J("ngForOf",A.documento.immagini),t.xp6(2),t.Q6J("ngIf",!A.documento.immagini.length))},dependencies:[k.sg,k.O5,Z.U],styles:[".dropdown-item[_ngcontent-%COMP%]:hover{text-decoration:none}.select-custom[_ngcontent-%COMP%]{padding:24px 0 0 32px}.container-document[_ngcontent-%COMP%]{height:560px}.container-document[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:100%}"]});class st{constructor(x,A,q){this._fb=x,this._tipoDocumentoService=A,this._documentoService=q,this.viewFilterAdvance=!1,this.showModalCarouselDoc=!1,this.tipiDocumento=[],this.tipiAtto=[],this.tipiParte=[],this.tipiSerie=[],this.personaList=[],this.serviceSearch=!1,this.total=0,this.paginator=new p.t({pageSize:10}),this.personSelected=null,this.documentSelected=null,this.spinner={tipoDocumento:!1},this.formGroup=this._buildForm()}ngOnInit(){this.searchControl.valueChanges.pipe((0,d.h)(x=>!1===this.viewFilterAdvance&&(x||"").length>3),(0,g.b)(500)).subscribe(()=>{this.filteredSearch()}),this.loadTipoDocumento()}get searchControl(){return this.formGroup.controls.seach}get tipoDocumentoIdControl(){return this.formGroup.controls.tipoDocumentoId}get nroAttoControl(){return this.formGroup.controls.nroAtto}get annoAttoControl(){return this.formGroup.controls.annoAtto}get luogoNascitaControl(){return this.formGroup.controls.luogoNascita}get dataNascitaControl(){return this.formGroup.controls.dataNascita}_buildForm(){return this._fb.group({seach:[""],tipoDocumentoId:[""],nroAtto:[null],annoAtto:[null,[r.kI.maxLength(4),y.q.isNumeric()]],luogoNascita:[""],dataNascita:[""]})}openModalCarousel(x,A){this.personSelected=x,this.documentSelected=A,this.showModalCarouselDoc=!0}filteredSearch(){this._documentoService.documentiPerAnagrafiche().subscribe({next:x=>{this.paginator.currentPage=1,this.paginator.totalPages=parseInt(String(x.total/this.paginator.pageSize)),this.personaList=x.data,this.total=x.total}})}loadTipoDocumento(){this.spinner.tipoDocumento=!0,this.tipoDocumentoIdControl.disable(),this._tipoDocumentoService.tipiDocumento().subscribe({next:x=>{this.spinner.tipoDocumento=!1,this.tipiDocumento=x,this.tipoDocumentoIdControl.enable()},error:x=>{this.spinner.tipoDocumento=!0,this.tipoDocumentoIdControl.enable()}})}changeTipoDocumento(){this.formGroup.removeControl("tipoAttoId"),this.formGroup.removeControl("parteId"),this.formGroup.removeControl("serieId"),(!this.tipoDocumentoIdControl.value||"null"==this.tipoDocumentoIdControl.value)&&this.tipoDocumentoIdControl.setValue(""),!this.tipoDocumentoIdControl.invalid&&this._tipoDocumentoService.tipiAtto(this.tipoDocumentoIdControl.value).subscribe({next:x=>{x.length&&(this.tipiAtto=x,this.formGroup.addControl("tipoAttoId",new r.NI("")))},error:x=>{}})}changeTipoAtto(){this.formGroup.removeControl("parteId"),this.formGroup.removeControl("serieId");const x=this.formGroup.controls.tipoAttoId.value;(!x||"null"==x)&&this.formGroup.controls.tipoAttoId.setValue(""),!this.formGroup.controls.tipoAttoId.invalid&&function a(...W){const x=(0,s.jO)(W),A=function i(W){return 1===W.length&&v(W[0])?W[0]:W}(W);return A.length?new w.y(q=>{let $=A.map(()=>[]),ft=A.map(()=>!1);q.add(()=>{$=ft=null});for(let mt=0;!q.closed&&mt<A.length;mt++)(0,m.Xf)(A[mt]).subscribe((0,o.x)(q,xt=>{if($[mt].push(xt),$.every(wt=>wt.length)){const wt=$.map(yt=>yt.shift());q.next(x?x(...wt):wt),$.some((yt,bt)=>!yt.length&&ft[bt])&&q.complete()}},()=>{ft[mt]=!0,!$[mt].length&&q.complete()}));return()=>{$=ft=null}}):u.E}(this._tipoDocumentoService.tipiParte(Number(x)),this._tipoDocumentoService.tipoSerie(Number(x),this.formGroup.get("parteId")?.value)).subscribe({next:([A,q])=>{A.length&&(this.tipiParte=A,this.formGroup.addControl("parteId",new r.NI(""))),q.length&&(this.tipiSerie=q,this.formGroup.addControl("SerieId",new r.NI("")))}})}changeParte(){this.formGroup.removeControl("serieId");const x=this.formGroup.controls.parteId.value;(!x||"null"==x)&&this.formGroup.controls.parteId.setValue(""),!this.formGroup.controls.parteId.invalid&&this._tipoDocumentoService.tipoSerie(Number(this.formGroup.controls.tipoAttoId.value),Number(x)).subscribe({next:A=>{this.tipiSerie=A,this.tipiSerie.length&&this.formGroup.addControl("serieId",new r.NI(""))}})}paginationChange(){const x=this.paginator.currentPage*this.paginator.pageSize;this._documentoService.documentiPerAnagrafiche(x-this.paginator.pageSize,x).subscribe({next:q=>{this.personaList=q.data}})}}st.\u0275fac=function(x){return new(x||st)(t.Y36(r.qu),t.Y36(S.d),t.Y36(L))},st.\u0275cmp=t.Xpm({type:st,selectors:[["app-ricerca-documenti"]],decls:68,vars:18,consts:[[1,"container"],[1,"container-filter"],[1,"row"],[1,"form-group","col-11","input-search"],[1,"input-group"],["for","search"],["type","text","id","search","name","search",1,"form-control",3,"formControl"],[1,"input-group-prepend"],[1,"input-group-text"],[4,"ngIf","ngIfElse"],["searchIcon",""],[1,"col-1","text-end"],["type","button","tooltipPlacement","bottom",1,"btn","btn-icon",3,"itTooltip","click"],["size","sm",1,"primary-color","icon-trans",3,"name"],["name","slideInOut",1,"row"],[1,"card-wrapper","card-filter"],[1,"card","card-bg"],[1,"card-body"],[1,"container-filter-advance",3,"formGroup"],[1,"select-wrapper","filter-item"],["for","tipoDocumentoId"],["id","tipoDocumentoId","formControlName","tipoDocumentoId",3,"change"],["selected","","value",""],[3,"value",4,"ngFor","ngForOf"],[3,"start","typeInput"],["class","select-wrapper filter-item",4,"ngIf"],[1,"form-group","filter-item"],["for","nroAtto"],["type","number","id","nroAtto","formControlName","nroAtto",1,"form-control"],["for","annoAtto"],["type","text","onlyNumber","","onNumber","","id","annoAtto","formControlName","annoAtto","maxlength","4",1,"form-control"],["for","luogoNascita"],["type","text","id","luogoNascita","formControlName","luogoNascita",1,"form-control"],["for","dataNascita",1,"active"],["type","date","id","dataNascita","formControlName","dataNascita",1,"form-control"],[1,"row","d-flex"],["type","button",1,"btn","btn-primary","btn-search",3,"disabled","click"],[1,"container-table"],[1,"table","table-hover"],["scope","col",1,"min-width-140"],["scope","col",1,"min-width-110"],["scope","col",1,"min-width-125"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"currentPagination","paginationChange",4,"ngIf"],[3,"person","documento","outClose",4,"ngIf"],["name","close","size","sm",1,"icon-primary","cursor-pointer",3,"click"],["name","search","size","sm",1,"icon-primary"],[3,"value"],["for","tipoAttoId"],["id","tipoAttoId","formControlName","tipoAttoId",3,"change"],["for","parteId"],["id","parteId","formControlName","parteId",3,"change"],["for","serieId"],["id","serieId","formControlName","serieId"],[1,"link-list"],[1,"list-item","medium","cursor-pointer",3,"click"],[1,"text-center"],[3,"currentPagination","paginationChange"],[3,"person","documento","outClose"]],template:function(x,A){if(1&x&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),t._uU(6,"Cerca persona"),t.qZA(),t._UZ(7,"input",6),t.TgZ(8,"div",7)(9,"div",8),t.YNc(10,gt,2,0,"ng-container",9),t.YNc(11,_t,1,0,"ng-template",null,10,t.W1O),t.qZA()()()(),t.TgZ(13,"div",11)(14,"button",12),t.NdJ("click",function(){return A.viewFilterAdvance=!A.viewFilterAdvance}),t._UZ(15,"app-icon",13),t.qZA()()(),t.TgZ(16,"div",14)(17,"div",15)(18,"div",16)(19,"div",17)(20,"form",18)(21,"div",19)(22,"label",20),t._uU(23,"Tipo documento"),t.qZA(),t.TgZ(24,"select",21),t.NdJ("change",function(){return A.changeTipoDocumento()}),t.TgZ(25,"option",22),t._uU(26,"Scegli un'opzione"),t.qZA(),t.YNc(27,e,2,2,"option",23),t.qZA(),t._UZ(28,"app-spinner-input-form",24),t.qZA(),t.YNc(29,O,7,1,"div",25),t.YNc(30,c,7,1,"div",25),t.YNc(31,U,7,1,"div",25),t.TgZ(32,"div",26)(33,"label",27),t._uU(34,"Numero atto"),t.qZA(),t._UZ(35,"input",28),t.qZA(),t.TgZ(36,"div",26)(37,"label",29),t._uU(38,"Anno atto"),t.qZA(),t._UZ(39,"input",30),t.qZA(),t.TgZ(40,"div",26)(41,"label",31),t._uU(42,"Luogo nascita"),t.qZA(),t._UZ(43,"input",32),t.qZA(),t.TgZ(44,"div",26)(45,"label",33),t._uU(46,"Data nascita"),t.qZA(),t._UZ(47,"input",34),t.qZA()(),t.TgZ(48,"div",35)(49,"button",36),t.NdJ("click",function(){return A.filteredSearch()}),t._uU(50,"Cerca"),t.qZA()()()()()(),t.TgZ(51,"div",37)(52,"table",38)(53,"thead")(54,"tr")(55,"th",39),t._uU(56,"Nome e cognome"),t.qZA(),t.TgZ(57,"th",40),t._uU(58,"Data nascita"),t.qZA(),t.TgZ(59,"th",41),t._uU(60,"Luego nascita"),t.qZA(),t.TgZ(61,"th",42),t._uU(62,"Documenti"),t.qZA()()(),t.TgZ(63,"tbody"),t.YNc(64,G,10,8,"tr",43),t.qZA()()(),t.YNc(65,K,3,0,"div",44),t.YNc(66,J,1,1,"app-pagination",45),t.qZA()(),t.YNc(67,X,1,2,"app-modal-carousel-documenti",46)),2&x){const q=t.MAs(12);t.xp6(7),t.Q6J("formControl",A.searchControl),t.xp6(3),t.Q6J("ngIf",A.searchControl.value)("ngIfElse",q),t.xp6(4),t.Q6J("itTooltip",A.viewFilterAdvance?"Nascondere filtro":"Mostra filtro"),t.xp6(1),t.Q6J("name",A.viewFilterAdvance?"filter-square":"filter"),t.xp6(1),t.Q6J("@slideInOut",A.viewFilterAdvance?"in":"out"),t.xp6(4),t.Q6J("formGroup",A.formGroup),t.xp6(7),t.Q6J("ngForOf",A.tipiDocumento),t.xp6(1),t.Q6J("start",A.spinner.tipoDocumento)("typeInput","select"),t.xp6(1),t.Q6J("ngIf",A.formGroup.controls.tipoAttoId),t.xp6(1),t.Q6J("ngIf",A.formGroup.controls.parteId),t.xp6(1),t.Q6J("ngIf",A.formGroup.controls.serieId),t.xp6(18),t.Q6J("disabled",A.formGroup.invalid||A.serviceSearch),t.xp6(15),t.Q6J("ngForOf",A.personaList),t.xp6(1),t.Q6J("ngIf",!A.personaList.length),t.xp6(1),t.Q6J("ngIf",A.personaList.length),t.xp6(1),t.Q6J("ngIf",1==A.showModalCarouselDoc)}},dependencies:[k.sg,k.O5,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.nD,r.oH,r.sg,r.u,Z.U,N,n.Q,F.i9,M,rt,ct,k.uU],styles:[".container-filter[_ngcontent-%COMP%]{max-width:960px}.container-filter[_ngcontent-%COMP%]   .input-search[_ngcontent-%COMP%]{margin-bottom:2rem}.container-filter[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{box-shadow:none!important;padding:0!important}.container-filter[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:last-child{padding-left:calc(var(--bs-gutter-x) * .5)}.container-filter[_ngcontent-%COMP%]   .container-filter-advance[_ngcontent-%COMP%]{max-width:960px;display:grid;grid-template-columns:1fr 1fr 1fr}.container-filter[_ngcontent-%COMP%]   .container-filter-advance[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]{margin:24px 24px 24px 0}.container-filter[_ngcontent-%COMP%]   .btn-search[_ngcontent-%COMP%]{max-width:100px}.container-filter[_ngcontent-%COMP%]   .card-filter[_ngcontent-%COMP%]{padding:16px}.container-table[_ngcontent-%COMP%]{max-width:960px;margin:32px 0;overflow:auto}.container-table[_ngcontent-%COMP%]   .link-list[_ngcontent-%COMP%]{padding:0;margin:0}.card.card-bg[_ngcontent-%COMP%]:after{margin-top:0}"],data:{animation:[(0,l.X$)("slideInOut",[(0,l.SB)("in",(0,l.oB)({overflow:"hidden",height:"*",opacity:"1"})),(0,l.SB)("out",(0,l.oB)({opacity:"0",overflow:"hidden",height:"0px"})),(0,l.eR)("in => out",(0,l.jt)("400ms ease-in-out")),(0,l.eR)("out => in",(0,l.jt)("400ms ease-in-out"))])]}});const pt=h.Bz.forChild([{path:"",component:st}]);var vt=T(3500);class ht{}ht.\u0275fac=function(x){return new(x||ht)},ht.\u0275mod=t.oAB({type:ht}),ht.\u0275inj=t.cJS({imports:[k.ez,pt,r.u5,r.UX,vt.m]})},4327:function(kt,b){var T,h;void 0!==(h="function"==typeof(T=function(){"use strict";function r(i,u,o){var s=new XMLHttpRequest;s.open("GET",i),s.responseType="blob",s.onload=function(){v(s.response,u,o)},s.onerror=function(){console.error("could not download file")},s.send()}function d(i){var u=new XMLHttpRequest;u.open("HEAD",i,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function g(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(u)}}var w="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,m=w.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),v=w.saveAs||("object"!=typeof window||window!==w?function(){}:"download"in HTMLAnchorElement.prototype&&!m?function(i,u,o){var s=w.URL||w.webkitURL,a=document.createElement("a");a.download=u=u||i.name||"download",a.rel="noopener","string"==typeof i?(a.href=i,a.origin===location.origin?g(a):d(a.href)?r(i,u,o):g(a,a.target="_blank")):(a.href=s.createObjectURL(i),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){g(a)},0))}:"msSaveOrOpenBlob"in navigator?function(i,u,o){if(u=u||i.name||"download","string"!=typeof i)navigator.msSaveOrOpenBlob(function l(i,u){return typeof u>"u"?u={autoBom:!1}:"object"!=typeof u&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\ufeff",i],{type:i.type}):i}(i,o),u);else if(d(i))r(i,u,o);else{var s=document.createElement("a");s.href=i,s.target="_blank",setTimeout(function(){g(s)})}}:function(i,u,o,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof i)return r(i,u,o);var a="application/octet-stream"===i.type,p=/constructor/i.test(w.HTMLElement)||w.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||a&&p||m)&&typeof FileReader<"u"){var t=new FileReader;t.onloadend=function(){var D=t.result;D=y?D:D.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=D:location=D,s=null},t.readAsDataURL(i)}else{var S=w.URL||w.webkitURL,B=S.createObjectURL(i);s?s.location=B:location.href=B,s=null,setTimeout(function(){S.revokeObjectURL(B)},4e4)}});w.saveAs=v.saveAs=v,kt.exports=v})?T.apply(b,[]):T)&&(kt.exports=h)},5650:kt=>{kt.exports=function b(T,k,h){function l(g,w){if(!k[g]){if(!T[g]){if(r)return r(g,!0);var v=new Error("Cannot find module '"+g+"'");throw v.code="MODULE_NOT_FOUND",v}var i=k[g]={exports:{}};T[g][0].call(i.exports,function(u){return l(T[g][1][u]||u)},i,i.exports,b,T,k,h)}return k[g].exports}for(var r=void 0,d=0;d<h.length;d++)l(h[d]);return l}({1:[function(b,T,k){"use strict";var h=b("./utils"),l=b("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";k.encode=function(d){for(var g,w,m,i,u,o,s=[],a=0,p=d.length,y=p,t="string"!==h.getTypeOf(d);a<d.length;)y=p-a,m=t?(g=d[a++],w=a<p?d[a++]:0,a<p?d[a++]:0):(g=d.charCodeAt(a++),w=a<p?d.charCodeAt(a++):0,a<p?d.charCodeAt(a++):0),i=(3&g)<<4|w>>4,u=1<y?(15&w)<<2|m>>6:64,o=2<y?63&m:64,s.push(r.charAt(g>>2)+r.charAt(i)+r.charAt(u)+r.charAt(o));return s.join("")},k.decode=function(d){var g,w,m,v,i,u,o=0,s=0,a="data:";if(d.substr(0,a.length)===a)throw new Error("Invalid base64 input, it looks like a data url.");var p,y=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===r.charAt(64)&&y--,d.charAt(d.length-2)===r.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=l.uint8array?new Uint8Array(0|y):new Array(0|y);o<d.length;)g=r.indexOf(d.charAt(o++))<<2|(v=r.indexOf(d.charAt(o++)))>>4,w=(15&v)<<4|(i=r.indexOf(d.charAt(o++)))>>2,m=(3&i)<<6|(u=r.indexOf(d.charAt(o++))),p[s++]=g,64!==i&&(p[s++]=w),64!==u&&(p[s++]=m);return p}},{"./support":30,"./utils":32}],2:[function(b,T,k){"use strict";var h=b("./external"),l=b("./stream/DataWorker"),r=b("./stream/Crc32Probe"),d=b("./stream/DataLengthProbe");function g(w,m,v,i,u){this.compressedSize=w,this.uncompressedSize=m,this.crc32=v,this.compression=i,this.compressedContent=u}g.prototype={getContentWorker:function(){var w=new l(h.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),m=this;return w.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),w},getCompressedWorker:function(){return new l(h.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(w,m,v){return w.pipe(new r).pipe(new d("uncompressedSize")).pipe(m.compressWorker(v)).pipe(new d("compressedSize")).withStreamInfo("compression",m)},T.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(b,T,k){"use strict";var h=b("./stream/GenericWorker");k.STORE={magic:"\0\0",compressWorker:function(){return new h("STORE compression")},uncompressWorker:function(){return new h("STORE decompression")}},k.DEFLATE=b("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(b,T,k){"use strict";var h=b("./utils"),l=function(){for(var r,d=[],g=0;g<256;g++){r=g;for(var w=0;w<8;w++)r=1&r?3988292384^r>>>1:r>>>1;d[g]=r}return d}();T.exports=function(r,d){return void 0!==r&&r.length?"string"!==h.getTypeOf(r)?function(g,w,m,v){var i=l,u=0+m;g^=-1;for(var o=0;o<u;o++)g=g>>>8^i[255&(g^w[o])];return-1^g}(0|d,r,r.length):function(g,w,m,v){var i=l,u=0+m;g^=-1;for(var o=0;o<u;o++)g=g>>>8^i[255&(g^w.charCodeAt(o))];return-1^g}(0|d,r,r.length):0}},{"./utils":32}],5:[function(b,T,k){"use strict";k.base64=!1,k.binary=!1,k.dir=!1,k.createFolders=!0,k.date=null,k.compression=null,k.compressionOptions=null,k.comment=null,k.unixPermissions=null,k.dosPermissions=null},{}],6:[function(b,T,k){"use strict";var h;h=typeof Promise<"u"?Promise:b("lie"),T.exports={Promise:h}},{lie:37}],7:[function(b,T,k){"use strict";var h=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=b("pako"),r=b("./utils"),d=b("./stream/GenericWorker"),g=h?"uint8array":"array";function w(m,v){d.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=v,this.meta={}}k.magic="\b\0",r.inherits(w,d),w.prototype.processChunk=function(m){this.meta=m.meta,null===this._pako&&this._createPako(),this._pako.push(r.transformTo(g,m.data),!1)},w.prototype.flush=function(){d.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},w.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},w.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(v){m.push({data:v,meta:m.meta})}},k.compressWorker=function(m){return new w("Deflate",m)},k.uncompressWorker=function(){return new w("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(b,T,k){"use strict";function h(i,u){var o,s="";for(o=0;o<u;o++)s+=String.fromCharCode(255&i),i>>>=8;return s}function l(i,u,o,s,a,p){var y,t,S=i.file,B=i.compression,D=p!==g.utf8encode,L=r.transformTo("string",p(S.name)),Z=r.transformTo("string",g.utf8encode(S.name)),H=S.comment,tt=r.transformTo("string",p(H)),_=r.transformTo("string",g.utf8encode(H)),N=Z.length!==S.name.length,n=_.length!==H.length,F="",et="",M="",rt=S.dir,j=S.date,nt={crc32:0,compressedSize:0,uncompressedSize:0};u&&!o||(nt.crc32=i.crc32,nt.compressedSize=i.compressedSize,nt.uncompressedSize=i.uncompressedSize);var z=0;u&&(z|=8),D||!N&&!n||(z|=2048);var Y,dt,E=0,V=0;rt&&(E|=16),"UNIX"===a?(V=798,E|=(dt=Y=S.unixPermissions,Y||(dt=rt?16893:33204),(65535&dt)<<16)):(V=20,E|=function(Y){return 63&(Y||0)}(S.dosPermissions)),y=j.getUTCHours(),y<<=6,y|=j.getUTCMinutes(),y<<=5,y|=j.getUTCSeconds()/2,t=j.getUTCFullYear()-1980,t<<=4,t|=j.getUTCMonth()+1,t<<=5,t|=j.getUTCDate(),N&&(et=h(1,1)+h(w(L),4)+Z,F+="up"+h(et.length,2)+et),n&&(M=h(1,1)+h(w(tt),4)+_,F+="uc"+h(M.length,2)+M);var Q="";return Q+="\n\0",Q+=h(z,2),Q+=B.magic,Q+=h(y,2),Q+=h(t,2),Q+=h(nt.crc32,4),Q+=h(nt.compressedSize,4),Q+=h(nt.uncompressedSize,4),Q+=h(L.length,2),Q+=h(F.length,2),{fileRecord:m.LOCAL_FILE_HEADER+Q+L+F,dirRecord:m.CENTRAL_FILE_HEADER+h(V,2)+Q+h(tt.length,2)+"\0\0\0\0"+h(E,4)+h(s,4)+L+F+tt}}var r=b("../utils"),d=b("../stream/GenericWorker"),g=b("../utf8"),w=b("../crc32"),m=b("../signature");function v(i,u,o,s){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=u,this.zipPlatform=o,this.encodeFileName=s,this.streamFiles=i,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(v,d),v.prototype.push=function(i){var u=i.meta.percent||0,o=this.entriesCount,s=this._sources.length;this.accumulate?this.contentBuffer.push(i):(this.bytesWritten+=i.data.length,d.prototype.push.call(this,{data:i.data,meta:{currentFile:this.currentFile,percent:o?(u+100*(o-s-1))/o:100}}))},v.prototype.openedSource=function(i){this.currentSourceOffset=this.bytesWritten,this.currentFile=i.file.name;var u=this.streamFiles&&!i.file.dir;if(u){var o=l(i,u,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:o.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(i){this.accumulate=!1;var s,u=this.streamFiles&&!i.file.dir,o=l(i,u,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(o.dirRecord),u)this.push({data:(s=i,m.DATA_DESCRIPTOR+h(s.crc32,4)+h(s.compressedSize,4)+h(s.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:o.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var i=this.bytesWritten,u=0;u<this.dirRecords.length;u++)this.push({data:this.dirRecords[u],meta:{percent:100}});var a,p,y,B,s=(a=this.dirRecords.length,p=this.bytesWritten-i,y=i,B=r.transformTo("string",(0,this.encodeFileName)(this.zipComment)),m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+h(a,2)+h(a,2)+h(p,4)+h(y,4)+h(B.length,2)+B);this.push({data:s,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(i){this._sources.push(i);var u=this;return i.on("data",function(o){u.processChunk(o)}),i.on("end",function(){u.closedSource(u.previous.streamInfo),u._sources.length?u.prepareNextSource():u.end()}),i.on("error",function(o){u.error(o)}),this},v.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(i){var u=this._sources;if(!d.prototype.error.call(this,i))return!1;for(var o=0;o<u.length;o++)try{u[o].error(i)}catch{}return!0},v.prototype.lock=function(){d.prototype.lock.call(this);for(var i=this._sources,u=0;u<i.length;u++)i[u].lock()},T.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(b,T,k){"use strict";var h=b("../compressions"),l=b("./ZipFileWorker");k.generateWorker=function(r,d,g){var w=new l(d.streamFiles,g,d.platform,d.encodeFileName),m=0;try{r.forEach(function(v,i){m++;var u=function(p,y){var t=p||y,S=h[t];if(!S)throw new Error(t+" is not a valid compression method !");return S}(i.options.compression,d.compression),s=i.dir,a=i.date;i._compressWorker(u,i.options.compressionOptions||d.compressionOptions||{}).withStreamInfo("file",{name:v,dir:s,date:a,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(w)}),w.entriesCount=m}catch(v){w.error(v)}return w}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(b,T,k){"use strict";function h(){if(!(this instanceof h))return new h;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new h;for(var r in this)"function"!=typeof this[r]&&(l[r]=this[r]);return l}}(h.prototype=b("./object")).loadAsync=b("./load"),h.support=b("./support"),h.defaults=b("./defaults"),h.version="3.10.1",h.loadAsync=function(l,r){return(new h).loadAsync(l,r)},h.external=b("./external"),T.exports=h},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(b,T,k){"use strict";var h=b("./utils"),l=b("./external"),r=b("./utf8"),d=b("./zipEntries"),g=b("./stream/Crc32Probe"),w=b("./nodejsUtils");function m(v){return new l.Promise(function(i,u){var o=v.decompressed.getContentWorker().pipe(new g);o.on("error",function(s){u(s)}).on("end",function(){o.streamInfo.crc32!==v.decompressed.crc32?u(new Error("Corrupted zip : CRC32 mismatch")):i()}).resume()})}T.exports=function(v,i){var u=this;return i=h.extend(i||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),w.isNode&&w.isStream(v)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):h.prepareContent("the loaded zip file",v,!0,i.optimizedBinaryString,i.base64).then(function(o){var s=new d(i);return s.load(o),s}).then(function(o){var s=[l.Promise.resolve(o)],a=o.files;if(i.checkCRC32)for(var p=0;p<a.length;p++)s.push(m(a[p]));return l.Promise.all(s)}).then(function(o){for(var s=o.shift(),a=s.files,p=0;p<a.length;p++){var y=a[p],t=y.fileNameStr,S=h.resolve(y.fileNameStr);u.file(S,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:i.createFolders}),y.dir||(u.file(S).unsafeOriginalName=t)}return s.zipComment.length&&(u.comment=s.zipComment),u})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(b,T,k){"use strict";var h=b("../utils"),l=b("../stream/GenericWorker");function r(d,g){l.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(g)}h.inherits(r,l),r.prototype._bindStream=function(d){var g=this;(this._stream=d).pause(),d.on("data",function(w){g.push({data:w,meta:{percent:0}})}).on("error",function(w){g.isPaused?this.generatedError=w:g.error(w)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},r.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},T.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(b,T,k){"use strict";var h=b("readable-stream").Readable;function l(r,d,g){h.call(this,d),this._helper=r;var w=this;r.on("data",function(m,v){w.push(m)||w._helper.pause(),g&&g(v)}).on("error",function(m){w.emit("error",m)}).on("end",function(){w.push(null)})}b("../utils").inherits(l,h),l.prototype._read=function(){this._helper.resume()},T.exports=l},{"../utils":32,"readable-stream":16}],14:[function(b,T,k){"use strict";T.exports={isNode:typeof Buffer<"u",newBufferFrom:function(h,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(h,l);if("number"==typeof h)throw new Error('The "data" argument must not be a number');return new Buffer(h,l)},allocBuffer:function(h){if(Buffer.alloc)return Buffer.alloc(h);var l=new Buffer(h);return l.fill(0),l},isBuffer:function(h){return Buffer.isBuffer(h)},isStream:function(h){return h&&"function"==typeof h.on&&"function"==typeof h.pause&&"function"==typeof h.resume}}},{}],15:[function(b,T,k){"use strict";function h(S,B,D){var L,Z=r.getTypeOf(B),H=r.extend(D||{},w);H.date=H.date||new Date,null!==H.compression&&(H.compression=H.compression.toUpperCase()),"string"==typeof H.unixPermissions&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(S=a(S)),H.createFolders&&(L=s(S))&&p.call(this,L,!0),D&&void 0!==D.binary||(H.binary=!("string"===Z&&!1===H.binary&&!1===H.base64)),(B instanceof m&&0===B.uncompressedSize||H.dir||!B||0===B.length)&&(H.base64=!1,H.binary=!0,B="",H.compression="STORE",Z="string");var _;_=B instanceof m||B instanceof d?B:u.isNode&&u.isStream(B)?new o(S,B):r.prepareContent(S,B,H.binary,H.optimizedBinaryString,H.base64);var N=new v(S,_,H);this.files[S]=N}var l=b("./utf8"),r=b("./utils"),d=b("./stream/GenericWorker"),g=b("./stream/StreamHelper"),w=b("./defaults"),m=b("./compressedObject"),v=b("./zipObject"),i=b("./generate"),u=b("./nodejsUtils"),o=b("./nodejs/NodejsStreamInputAdapter"),s=function(S){"/"===S.slice(-1)&&(S=S.substring(0,S.length-1));var B=S.lastIndexOf("/");return 0<B?S.substring(0,B):""},a=function(S){return"/"!==S.slice(-1)&&(S+="/"),S},p=function(S,B){return B=void 0!==B?B:w.createFolders,S=a(S),this.files[S]||h.call(this,S,null,{dir:!0,createFolders:B}),this.files[S]};function y(S){return"[object RegExp]"===Object.prototype.toString.call(S)}var t={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var B,D,L;for(B in this.files)L=this.files[B],(D=B.slice(this.root.length,B.length))&&B.slice(0,this.root.length)===this.root&&S(D,L)},filter:function(S){var B=[];return this.forEach(function(D,L){S(D,L)&&B.push(L)}),B},file:function(S,B,D){if(1!==arguments.length)return h.call(this,S=this.root+S,B,D),this;if(y(S)){var L=S;return this.filter(function(H,tt){return!tt.dir&&L.test(H)})}var Z=this.files[this.root+S];return Z&&!Z.dir?Z:null},folder:function(S){if(!S)return this;if(y(S))return this.filter(function(Z,H){return H.dir&&S.test(Z)});var D=p.call(this,this.root+S),L=this.clone();return L.root=D.name,L},remove:function(S){var B=this.files[S=this.root+S];if(B||("/"!==S.slice(-1)&&(S+="/"),B=this.files[S]),B&&!B.dir)delete this.files[S];else for(var D=this.filter(function(Z,H){return H.name.slice(0,S.length)===S}),L=0;L<D.length;L++)delete this.files[D[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var B,D={};try{if((D=r.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=D.type.toLowerCase(),D.compression=D.compression.toUpperCase(),"binarystring"===D.type&&(D.type="string"),!D.type)throw new Error("No output type specified.");r.checkSupport(D.type),"darwin"!==D.platform&&"freebsd"!==D.platform&&"linux"!==D.platform&&"sunos"!==D.platform||(D.platform="UNIX"),"win32"===D.platform&&(D.platform="DOS"),B=i.generateWorker(this,D,D.comment||this.comment||"")}catch(Z){(B=new d("error")).error(Z)}return new g(B,D.type||"string",D.mimeType)},generateAsync:function(S,B){return this.generateInternalStream(S).accumulate(B)},generateNodeStream:function(S,B){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(B)}};T.exports=t},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(b,T,k){"use strict";T.exports=b("stream")},{stream:void 0}],17:[function(b,T,k){"use strict";var h=b("./DataReader");function l(r){h.call(this,r);for(var d=0;d<this.data.length;d++)r[d]=255&r[d]}b("../utils").inherits(l,h),l.prototype.byteAt=function(r){return this.data[this.zero+r]},l.prototype.lastIndexOfSignature=function(r){for(var d=r.charCodeAt(0),g=r.charCodeAt(1),w=r.charCodeAt(2),m=r.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===d&&this.data[v+1]===g&&this.data[v+2]===w&&this.data[v+3]===m)return v-this.zero;return-1},l.prototype.readAndCheckSignature=function(r){var d=r.charCodeAt(0),g=r.charCodeAt(1),w=r.charCodeAt(2),m=r.charCodeAt(3),v=this.readData(4);return d===v[0]&&g===v[1]&&w===v[2]&&m===v[3]},l.prototype.readData=function(r){if(this.checkOffset(r),0===r)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,d},T.exports=l},{"../utils":32,"./DataReader":18}],18:[function(b,T,k){"use strict";var h=b("../utils");function l(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var d,g=0;for(this.checkOffset(r),d=this.index+r-1;d>=this.index;d--)g=(g<<8)+this.byteAt(d);return this.index+=r,g},readString:function(r){return h.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},T.exports=l},{"../utils":32}],19:[function(b,T,k){"use strict";var h=b("./Uint8ArrayReader");function l(r){h.call(this,r)}b("../utils").inherits(l,h),l.prototype.readData=function(r){this.checkOffset(r);var d=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,d},T.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(b,T,k){"use strict";var h=b("./DataReader");function l(r){h.call(this,r)}b("../utils").inherits(l,h),l.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},l.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},l.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},l.prototype.readData=function(r){this.checkOffset(r);var d=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,d},T.exports=l},{"../utils":32,"./DataReader":18}],21:[function(b,T,k){"use strict";var h=b("./ArrayReader");function l(r){h.call(this,r)}b("../utils").inherits(l,h),l.prototype.readData=function(r){if(this.checkOffset(r),0===r)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,d},T.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(b,T,k){"use strict";var h=b("../utils"),l=b("../support"),r=b("./ArrayReader"),d=b("./StringReader"),g=b("./NodeBufferReader"),w=b("./Uint8ArrayReader");T.exports=function(m){var v=h.getTypeOf(m);return h.checkSupport(v),"string"!==v||l.uint8array?"nodebuffer"===v?new g(m):l.uint8array?new w(h.transformTo("uint8array",m)):new r(h.transformTo("array",m)):new d(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(b,T,k){"use strict";k.LOCAL_FILE_HEADER="PK\x03\x04",k.CENTRAL_FILE_HEADER="PK\x01\x02",k.CENTRAL_DIRECTORY_END="PK\x05\x06",k.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",k.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",k.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(b,T,k){"use strict";var h=b("./GenericWorker"),l=b("../utils");function r(d){h.call(this,"ConvertWorker to "+d),this.destType=d}l.inherits(r,h),r.prototype.processChunk=function(d){this.push({data:l.transformTo(this.destType,d.data),meta:d.meta})},T.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(b,T,k){"use strict";var h=b("./GenericWorker"),l=b("../crc32");function r(){h.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}b("../utils").inherits(r,h),r.prototype.processChunk=function(d){this.streamInfo.crc32=l(d.data,this.streamInfo.crc32||0),this.push(d)},T.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(b,T,k){"use strict";var h=b("../utils"),l=b("./GenericWorker");function r(d){l.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}h.inherits(r,l),r.prototype.processChunk=function(d){d&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+d.data.length),l.prototype.processChunk.call(this,d)},T.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(b,T,k){"use strict";var h=b("../utils"),l=b("./GenericWorker");function r(d){l.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(w){g.dataIsReady=!0,g.data=w,g.max=w&&w.length||0,g.type=h.getTypeOf(w),g.isPaused||g._tickAndRepeat()},function(w){g.error(w)})}h.inherits(r,l),r.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,h.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(h.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,g);break;case"uint8array":d=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":d=this.data.slice(this.index,g)}return this.index=g,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},T.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(b,T,k){"use strict";function h(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}h.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,r){return this._listeners[l].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,r){if(this._listeners[l])for(var d=0;d<this._listeners[l].length;d++)this._listeners[l][d].call(this,r)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var r=this;return l.on("data",function(d){r.processChunk(d)}),l.on("end",function(){r.end()}),l.on("error",function(d){r.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,r){return this.extraStreamInfo[l]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},T.exports=h},{}],29:[function(b,T,k){"use strict";var h=b("../utils"),l=b("./ConvertWorker"),r=b("./GenericWorker"),d=b("../base64"),g=b("../support"),w=b("../external"),m=null;if(g.nodestream)try{m=b("../nodejs/NodejsStreamOutputAdapter")}catch{}function i(u,o,s){var a=o;switch(o){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=o,this._mimeType=s,h.checkSupport(a),this._worker=u.pipe(new l(a)),u.lock()}catch(p){this._worker=new r("error"),this._worker.error(p)}}i.prototype={accumulate:function(u){return function v(u,o){return new w.Promise(function(s,a){var p=[],y=u._internalType,t=u._outputType,S=u._mimeType;u.on("data",function(B,D){p.push(B),o&&o(D)}).on("error",function(B){p=[],a(B)}).on("end",function(){try{var B=function(D,L,Z){switch(D){case"blob":return h.newBlob(h.transformTo("arraybuffer",L),Z);case"base64":return d.encode(L);default:return h.transformTo(D,L)}}(t,function(D,L){var Z,H=0,tt=null,_=0;for(Z=0;Z<L.length;Z++)_+=L[Z].length;switch(D){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(tt=new Uint8Array(_),Z=0;Z<L.length;Z++)tt.set(L[Z],H),H+=L[Z].length;return tt;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+D+"'")}}(y,p),S);s(B)}catch(D){a(D)}p=[]}).resume()})}(this,u)},on:function(u,o){var s=this;return this._worker.on(u,"data"===u?function(a){o.call(s,a.data,a.meta)}:function(){h.delay(o,arguments,s)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(u){if(h.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:"nodebuffer"!==this._outputType},u)}},T.exports=i},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(b,T,k){"use strict";if(k.base64=!0,k.array=!0,k.string=!0,k.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",k.nodebuffer=typeof Buffer<"u",k.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")k.blob=!1;else{var h=new ArrayBuffer(0);try{k.blob=0===new Blob([h],{type:"application/zip"}).size}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(h),k.blob=0===l.getBlob("application/zip").size}catch{k.blob=!1}}}try{k.nodestream=!!b("readable-stream").Readable}catch{k.nodestream=!1}},{"readable-stream":16}],31:[function(b,T,k){"use strict";for(var h=b("./utils"),l=b("./support"),r=b("./nodejsUtils"),d=b("./stream/GenericWorker"),g=new Array(256),w=0;w<256;w++)g[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;function m(){d.call(this,"utf-8 decode"),this.leftOver=null}function v(){d.call(this,"utf-8 encode")}g[254]=g[254]=1,k.utf8encode=function(i){return l.nodebuffer?r.newBufferFrom(i,"utf-8"):function(u){var o,s,a,p,y,t=u.length,S=0;for(p=0;p<t;p++)55296==(64512&(s=u.charCodeAt(p)))&&p+1<t&&56320==(64512&(a=u.charCodeAt(p+1)))&&(s=65536+(s-55296<<10)+(a-56320),p++),S+=s<128?1:s<2048?2:s<65536?3:4;for(o=l.uint8array?new Uint8Array(S):new Array(S),p=y=0;y<S;p++)55296==(64512&(s=u.charCodeAt(p)))&&p+1<t&&56320==(64512&(a=u.charCodeAt(p+1)))&&(s=65536+(s-55296<<10)+(a-56320),p++),s<128?o[y++]=s:(s<2048?o[y++]=192|s>>>6:(s<65536?o[y++]=224|s>>>12:(o[y++]=240|s>>>18,o[y++]=128|s>>>12&63),o[y++]=128|s>>>6&63),o[y++]=128|63&s);return o}(i)},k.utf8decode=function(i){return l.nodebuffer?h.transformTo("nodebuffer",i).toString("utf-8"):function(u){var o,s,a,p,y=u.length,t=new Array(2*y);for(o=s=0;o<y;)if((a=u[o++])<128)t[s++]=a;else if(4<(p=g[a]))t[s++]=65533,o+=p-1;else{for(a&=2===p?31:3===p?15:7;1<p&&o<y;)a=a<<6|63&u[o++],p--;1<p?t[s++]=65533:a<65536?t[s++]=a:(t[s++]=55296|(a-=65536)>>10&1023,t[s++]=56320|1023&a)}return t.length!==s&&(t.subarray?t=t.subarray(0,s):t.length=s),h.applyFromCharCode(t)}(i=h.transformTo(l.uint8array?"uint8array":"array",i))},h.inherits(m,d),m.prototype.processChunk=function(i){var u=h.transformTo(l.uint8array?"uint8array":"array",i.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var o=u;(u=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),u.set(o,this.leftOver.length)}else u=this.leftOver.concat(u);this.leftOver=null}var s=function(p,y){var t;for((y=y||p.length)>p.length&&(y=p.length),t=y-1;0<=t&&128==(192&p[t]);)t--;return t<0||0===t?y:t+g[p[t]]>y?t:y}(u),a=u;s!==u.length&&(l.uint8array?(a=u.subarray(0,s),this.leftOver=u.subarray(s,u.length)):(a=u.slice(0,s),this.leftOver=u.slice(s,u.length))),this.push({data:k.utf8decode(a),meta:i.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:k.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},k.Utf8DecodeWorker=m,h.inherits(v,d),v.prototype.processChunk=function(i){this.push({data:k.utf8encode(i.data),meta:i.meta})},k.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(b,T,k){"use strict";var h=b("./support"),l=b("./base64"),r=b("./nodejsUtils"),d=b("./external");function g(o){return o}function w(o,s){for(var a=0;a<o.length;++a)s[a]=255&o.charCodeAt(a);return s}b("setimmediate"),k.newBlob=function(o,s){k.checkSupport("blob");try{return new Blob([o],{type:s})}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return a.append(o),a.getBlob(s)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(o,s,a){var p=[],y=0,t=o.length;if(t<=a)return String.fromCharCode.apply(null,o);for(;y<t;)p.push(String.fromCharCode.apply(null,"array"===s||"nodebuffer"===s?o.slice(y,Math.min(y+a,t)):o.subarray(y,Math.min(y+a,t)))),y+=a;return p.join("")},stringifyByChar:function(o){for(var s="",a=0;a<o.length;a++)s+=String.fromCharCode(o[a]);return s},applyCanBeUsed:{uint8array:function(){try{return h.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch{return!1}}(),nodebuffer:function(){try{return h.nodebuffer&&1===String.fromCharCode.apply(null,r.allocBuffer(1)).length}catch{return!1}}()}};function v(o){var s=65536,a=k.getTypeOf(o),p=!0;if("uint8array"===a?p=m.applyCanBeUsed.uint8array:"nodebuffer"===a&&(p=m.applyCanBeUsed.nodebuffer),p)for(;1<s;)try{return m.stringifyByChunk(o,a,s)}catch{s=Math.floor(s/2)}return m.stringifyByChar(o)}function i(o,s){for(var a=0;a<o.length;a++)s[a]=o[a];return s}k.applyFromCharCode=v;var u={};u.string={string:g,array:function(o){return w(o,new Array(o.length))},arraybuffer:function(o){return u.string.uint8array(o).buffer},uint8array:function(o){return w(o,new Uint8Array(o.length))},nodebuffer:function(o){return w(o,r.allocBuffer(o.length))}},u.array={string:v,array:g,arraybuffer:function(o){return new Uint8Array(o).buffer},uint8array:function(o){return new Uint8Array(o)},nodebuffer:function(o){return r.newBufferFrom(o)}},u.arraybuffer={string:function(o){return v(new Uint8Array(o))},array:function(o){return i(new Uint8Array(o),new Array(o.byteLength))},arraybuffer:g,uint8array:function(o){return new Uint8Array(o)},nodebuffer:function(o){return r.newBufferFrom(new Uint8Array(o))}},u.uint8array={string:v,array:function(o){return i(o,new Array(o.length))},arraybuffer:function(o){return o.buffer},uint8array:g,nodebuffer:function(o){return r.newBufferFrom(o)}},u.nodebuffer={string:v,array:function(o){return i(o,new Array(o.length))},arraybuffer:function(o){return u.nodebuffer.uint8array(o).buffer},uint8array:function(o){return i(o,new Uint8Array(o.length))},nodebuffer:g},k.transformTo=function(o,s){if(s=s||"",!o)return s;k.checkSupport(o);var a=k.getTypeOf(s);return u[a][o](s)},k.resolve=function(o){for(var s=o.split("/"),a=[],p=0;p<s.length;p++){var y=s[p];"."===y||""===y&&0!==p&&p!==s.length-1||(".."===y?a.pop():a.push(y))}return a.join("/")},k.getTypeOf=function(o){return"string"==typeof o?"string":"[object Array]"===Object.prototype.toString.call(o)?"array":h.nodebuffer&&r.isBuffer(o)?"nodebuffer":h.uint8array&&o instanceof Uint8Array?"uint8array":h.arraybuffer&&o instanceof ArrayBuffer?"arraybuffer":void 0},k.checkSupport=function(o){if(!h[o.toLowerCase()])throw new Error(o+" is not supported by this platform")},k.MAX_VALUE_16BITS=65535,k.MAX_VALUE_32BITS=-1,k.pretty=function(o){var s,a,p="";for(a=0;a<(o||"").length;a++)p+="\\x"+((s=o.charCodeAt(a))<16?"0":"")+s.toString(16).toUpperCase();return p},k.delay=function(o,s,a){setImmediate(function(){o.apply(a||null,s||[])})},k.inherits=function(o,s){function a(){}a.prototype=s.prototype,o.prototype=new a},k.extend=function(){var o,s,a={};for(o=0;o<arguments.length;o++)for(s in arguments[o])Object.prototype.hasOwnProperty.call(arguments[o],s)&&void 0===a[s]&&(a[s]=arguments[o][s]);return a},k.prepareContent=function(o,s,a,p,y){return d.Promise.resolve(s).then(function(t){return h.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&typeof FileReader<"u"?new d.Promise(function(S,B){var D=new FileReader;D.onload=function(L){S(L.target.result)},D.onerror=function(L){B(L.target.error)},D.readAsArrayBuffer(t)}):t}).then(function(t){var B,S=k.getTypeOf(t);return S?("arraybuffer"===S?t=k.transformTo("uint8array",t):"string"===S&&(y?t=l.decode(t):a&&!0!==p&&(t=w(B=t,h.uint8array?new Uint8Array(B.length):new Array(B.length)))),t):d.Promise.reject(new Error("Can't read the data of '"+o+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(b,T,k){"use strict";var h=b("./reader/readerFor"),l=b("./utils"),r=b("./signature"),d=b("./zipEntry"),g=b("./support");function w(m){this.files=[],this.loadOptions=m}w.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(v)+", expected "+l.pretty(m)+")")}},isSignature:function(m,v){var i=this.reader.index;this.reader.setIndex(m);var u=this.reader.readString(4)===v;return this.reader.setIndex(i),u},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),i=l.transformTo(g.uint8array?"uint8array":"array",m);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,v,i,u=this.zip64EndOfCentralSize-44;0<u;)m=this.reader.readInt(2),v=this.reader.readInt(4),i=this.reader.readData(v),this.zip64ExtensibleData[m]={id:m,length:v,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,v;for(m=0;m<this.files.length;m++)this.reader.setIndex((v=this.files[m]).localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(m=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var v=m;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var u=v-i;if(0<u)this.isSignature(v,r.CENTRAL_FILE_HEADER)||(this.reader.zero=u);else if(u<0)throw new Error("Corrupted zip: missing "+Math.abs(u)+" bytes.")},prepareReader:function(m){this.reader=h(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},T.exports=w},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(b,T,k){"use strict";var h=b("./reader/readerFor"),l=b("./utils"),r=b("./compressedObject"),d=b("./crc32"),g=b("./utf8"),w=b("./compressions"),m=b("./support");function v(i,u){this.options=i,this.loadOptions=u}v.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(i){var u,o;if(i.skip(22),this.fileNameLength=i.readInt(2),o=i.readInt(2),this.fileName=i.readData(this.fileNameLength),i.skip(o),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(u=function(s){for(var a in w)if(Object.prototype.hasOwnProperty.call(w,a)&&w[a].magic===s)return w[a];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,u,i.readData(this.compressedSize))},readCentralPart:function(i){this.versionMadeBy=i.readInt(2),i.skip(2),this.bitFlag=i.readInt(2),this.compressionMethod=i.readString(2),this.date=i.readDate(),this.crc32=i.readInt(4),this.compressedSize=i.readInt(4),this.uncompressedSize=i.readInt(4);var u=i.readInt(2);if(this.extraFieldsLength=i.readInt(2),this.fileCommentLength=i.readInt(2),this.diskNumberStart=i.readInt(2),this.internalFileAttributes=i.readInt(2),this.externalFileAttributes=i.readInt(4),this.localHeaderOffset=i.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");i.skip(u),this.readExtraFields(i),this.parseZIP64ExtraField(i),this.fileComment=i.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var i=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==i&&(this.dosPermissions=63&this.externalFileAttributes),3==i&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var i=h(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=i.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=i.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=i.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=i.readInt(4))}},readExtraFields:function(i){var u,o,s,a=i.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});i.index+4<a;)u=i.readInt(2),o=i.readInt(2),s=i.readData(o),this.extraFields[u]={id:u,length:o,value:s};i.setIndex(a)},handleUTF8:function(){var i=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var u=this.findExtraFieldUnicodePath();if(null!==u)this.fileNameStr=u;else{var o=l.transformTo(i,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(o)}var s=this.findExtraFieldUnicodeComment();if(null!==s)this.fileCommentStr=s;else{var a=l.transformTo(i,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var i=this.extraFields[28789];if(i){var u=h(i.value);return 1!==u.readInt(1)||d(this.fileName)!==u.readInt(4)?null:g.utf8decode(u.readData(i.length-5))}return null},findExtraFieldUnicodeComment:function(){var i=this.extraFields[25461];if(i){var u=h(i.value);return 1!==u.readInt(1)||d(this.fileComment)!==u.readInt(4)?null:g.utf8decode(u.readData(i.length-5))}return null}},T.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(b,T,k){"use strict";function h(u,o,s){this.name=u,this.dir=s.dir,this.date=s.date,this.comment=s.comment,this.unixPermissions=s.unixPermissions,this.dosPermissions=s.dosPermissions,this._data=o,this._dataBinary=s.binary,this.options={compression:s.compression,compressionOptions:s.compressionOptions}}var l=b("./stream/StreamHelper"),r=b("./stream/DataWorker"),d=b("./utf8"),g=b("./compressedObject"),w=b("./stream/GenericWorker");h.prototype={internalStream:function(u){var o=null,s="string";try{if(!u)throw new Error("No output type specified.");var a="string"===(s=u.toLowerCase())||"text"===s;"binarystring"!==s&&"text"!==s||(s="string"),o=this._decompressWorker();var p=!this._dataBinary;p&&!a&&(o=o.pipe(new d.Utf8EncodeWorker)),!p&&a&&(o=o.pipe(new d.Utf8DecodeWorker))}catch(y){(o=new w("error")).error(y)}return new l(o,s,"")},async:function(u,o){return this.internalStream(u).accumulate(o)},nodeStream:function(u,o){return this.internalStream(u||"nodebuffer").toNodejsStream(o)},_compressWorker:function(u,o){if(this._data instanceof g&&this._data.compression.magic===u.magic)return this._data.getCompressedWorker();var s=this._decompressWorker();return this._dataBinary||(s=s.pipe(new d.Utf8EncodeWorker)),g.createWorkerFrom(s,u,o)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof w?this._data:new r(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},i=0;i<m.length;i++)h.prototype[m[i]]=v;T.exports=h},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(b,T,k){(function(h){"use strict";var l,r,d=h.MutationObserver||h.WebKitMutationObserver;if(d){var g=0,w=new d(u),m=h.document.createTextNode("");w.observe(m,{characterData:!0}),l=function(){m.data=g=++g%2}}else if(h.setImmediate||void 0===h.MessageChannel)l="document"in h&&"onreadystatechange"in h.document.createElement("script")?function(){var o=h.document.createElement("script");o.onreadystatechange=function(){u(),o.onreadystatechange=null,o.parentNode.removeChild(o),o=null},h.document.documentElement.appendChild(o)}:function(){setTimeout(u,0)};else{var v=new h.MessageChannel;v.port1.onmessage=u,l=function(){v.port2.postMessage(0)}}var i=[];function u(){var o,s;r=!0;for(var a=i.length;a;){for(s=i,i=[],o=-1;++o<a;)s[o]();a=i.length}r=!1}T.exports=function(o){1!==i.push(o)||r||l()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(b,T,k){"use strict";var h=b("immediate");function l(){}var r={},d=["REJECTED"],g=["FULFILLED"],w=["PENDING"];function m(a){if("function"!=typeof a)throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,a!==l&&o(this,a)}function v(a,p,y){this.promise=a,"function"==typeof p&&(this.onFulfilled=p,this.callFulfilled=this.otherCallFulfilled),"function"==typeof y&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function i(a,p,y){h(function(){var t;try{t=p(y)}catch(S){return r.reject(a,S)}t===a?r.reject(a,new TypeError("Cannot resolve promise with itself")):r.resolve(a,t)})}function u(a){var p=a&&a.then;if(a&&("object"==typeof a||"function"==typeof a)&&"function"==typeof p)return function(){p.apply(a,arguments)}}function o(a,p){var y=!1;function t(D){y||(y=!0,r.reject(a,D))}function S(D){y||(y=!0,r.resolve(a,D))}var B=s(function(){p(S,t)});"error"===B.status&&t(B.value)}function s(a,p){var y={};try{y.value=a(p),y.status="success"}catch(t){y.status="error",y.value=t}return y}(T.exports=m).prototype.finally=function(a){if("function"!=typeof a)return this;var p=this.constructor;return this.then(function(y){return p.resolve(a()).then(function(){return y})},function(y){return p.resolve(a()).then(function(){throw y})})},m.prototype.catch=function(a){return this.then(null,a)},m.prototype.then=function(a,p){if("function"!=typeof a&&this.state===g||"function"!=typeof p&&this.state===d)return this;var y=new this.constructor(l);return this.state!==w?i(y,this.state===g?a:p,this.outcome):this.queue.push(new v(y,a,p)),y},v.prototype.callFulfilled=function(a){r.resolve(this.promise,a)},v.prototype.otherCallFulfilled=function(a){i(this.promise,this.onFulfilled,a)},v.prototype.callRejected=function(a){r.reject(this.promise,a)},v.prototype.otherCallRejected=function(a){i(this.promise,this.onRejected,a)},r.resolve=function(a,p){var y=s(u,p);if("error"===y.status)return r.reject(a,y.value);var t=y.value;if(t)o(a,t);else{a.state=g,a.outcome=p;for(var S=-1,B=a.queue.length;++S<B;)a.queue[S].callFulfilled(p)}return a},r.reject=function(a,p){a.state=d,a.outcome=p;for(var y=-1,t=a.queue.length;++y<t;)a.queue[y].callRejected(p);return a},m.resolve=function(a){return a instanceof this?a:r.resolve(new this(l),a)},m.reject=function(a){var p=new this(l);return r.reject(p,a)},m.all=function(a){var p=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var y=a.length,t=!1;if(!y)return this.resolve([]);for(var S=new Array(y),B=0,D=-1,L=new this(l);++D<y;)Z(a[D],D);return L;function Z(H,tt){p.resolve(H).then(function(_){S[tt]=_,++B!==y||t||(t=!0,r.resolve(L,S))},function(_){t||(t=!0,r.reject(L,_))})}},m.race=function(a){if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var y=a.length,t=!1;if(!y)return this.resolve([]);for(var S=-1,B=new this(l);++S<y;)this.resolve(a[S]).then(function(L){t||(t=!0,r.resolve(B,L))},function(L){t||(t=!0,r.reject(B,L))});return B}},{immediate:36}],38:[function(b,T,k){"use strict";var h={};(0,b("./lib/utils/common").assign)(h,b("./lib/deflate"),b("./lib/inflate"),b("./lib/zlib/constants")),T.exports=h},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(b,T,k){"use strict";var h=b("./zlib/deflate"),l=b("./utils/common"),r=b("./utils/strings"),d=b("./zlib/messages"),g=b("./zlib/zstream"),w=Object.prototype.toString;function o(a){if(!(this instanceof o))return new o(a);this.options=l.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},a||{});var p=this.options;p.raw&&0<p.windowBits?p.windowBits=-p.windowBits:p.gzip&&0<p.windowBits&&p.windowBits<16&&(p.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var y=h.deflateInit2(this.strm,p.level,p.method,p.windowBits,p.memLevel,p.strategy);if(0!==y)throw new Error(d[y]);if(p.header&&h.deflateSetHeader(this.strm,p.header),p.dictionary){var t;if(t="string"==typeof p.dictionary?r.string2buf(p.dictionary):"[object ArrayBuffer]"===w.call(p.dictionary)?new Uint8Array(p.dictionary):p.dictionary,0!==(y=h.deflateSetDictionary(this.strm,t)))throw new Error(d[y]);this._dict_set=!0}}function s(a,p){var y=new o(p);if(y.push(a,!0),y.err)throw y.msg||d[y.err];return y.result}o.prototype.push=function(a,p){var y,t,S=this.strm,B=this.options.chunkSize;if(this.ended)return!1;t=p===~~p?p:!0===p?4:0,S.input="string"==typeof a?r.string2buf(a):"[object ArrayBuffer]"===w.call(a)?new Uint8Array(a):a,S.next_in=0,S.avail_in=S.input.length;do{if(0===S.avail_out&&(S.output=new l.Buf8(B),S.next_out=0,S.avail_out=B),1!==(y=h.deflate(S,t))&&0!==y)return this.onEnd(y),!(this.ended=!0);0!==S.avail_out&&(0!==S.avail_in||4!==t&&2!==t)||this.onData("string"===this.options.to?r.buf2binstring(l.shrinkBuf(S.output,S.next_out)):l.shrinkBuf(S.output,S.next_out))}while((0<S.avail_in||0===S.avail_out)&&1!==y);return 4===t?(y=h.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,0===y):2!==t||(this.onEnd(0),!(S.avail_out=0))},o.prototype.onData=function(a){this.chunks.push(a)},o.prototype.onEnd=function(a){0===a&&(this.result="string"===this.options.to?this.chunks.join(""):l.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},k.Deflate=o,k.deflate=s,k.deflateRaw=function(a,p){return(p=p||{}).raw=!0,s(a,p)},k.gzip=function(a,p){return(p=p||{}).gzip=!0,s(a,p)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(b,T,k){"use strict";var h=b("./zlib/inflate"),l=b("./utils/common"),r=b("./utils/strings"),d=b("./zlib/constants"),g=b("./zlib/messages"),w=b("./zlib/zstream"),m=b("./zlib/gzheader"),v=Object.prototype.toString;function i(o){if(!(this instanceof i))return new i(o);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},o||{});var s=this.options;s.raw&&0<=s.windowBits&&s.windowBits<16&&(s.windowBits=-s.windowBits,0===s.windowBits&&(s.windowBits=-15)),!(0<=s.windowBits&&s.windowBits<16)||o&&o.windowBits||(s.windowBits+=32),15<s.windowBits&&s.windowBits<48&&!(15&s.windowBits)&&(s.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var a=h.inflateInit2(this.strm,s.windowBits);if(a!==d.Z_OK)throw new Error(g[a]);this.header=new m,h.inflateGetHeader(this.strm,this.header)}function u(o,s){var a=new i(s);if(a.push(o,!0),a.err)throw a.msg||g[a.err];return a.result}i.prototype.push=function(o,s){var a,p,y,t,S,B,D=this.strm,L=this.options.chunkSize,Z=this.options.dictionary,H=!1;if(this.ended)return!1;p=s===~~s?s:!0===s?d.Z_FINISH:d.Z_NO_FLUSH,D.input="string"==typeof o?r.binstring2buf(o):"[object ArrayBuffer]"===v.call(o)?new Uint8Array(o):o,D.next_in=0,D.avail_in=D.input.length;do{if(0===D.avail_out&&(D.output=new l.Buf8(L),D.next_out=0,D.avail_out=L),(a=h.inflate(D,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&Z&&(B="string"==typeof Z?r.string2buf(Z):"[object ArrayBuffer]"===v.call(Z)?new Uint8Array(Z):Z,a=h.inflateSetDictionary(this.strm,B)),a===d.Z_BUF_ERROR&&!0===H&&(a=d.Z_OK,H=!1),a!==d.Z_STREAM_END&&a!==d.Z_OK)return this.onEnd(a),!(this.ended=!0);D.next_out&&(0!==D.avail_out&&a!==d.Z_STREAM_END&&(0!==D.avail_in||p!==d.Z_FINISH&&p!==d.Z_SYNC_FLUSH)||("string"===this.options.to?(y=r.utf8border(D.output,D.next_out),t=D.next_out-y,S=r.buf2string(D.output,y),D.next_out=t,D.avail_out=L-t,t&&l.arraySet(D.output,D.output,y,t,0),this.onData(S)):this.onData(l.shrinkBuf(D.output,D.next_out)))),0===D.avail_in&&0===D.avail_out&&(H=!0)}while((0<D.avail_in||0===D.avail_out)&&a!==d.Z_STREAM_END);return a===d.Z_STREAM_END&&(p=d.Z_FINISH),p===d.Z_FINISH?(a=h.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===d.Z_OK):p!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(D.avail_out=0))},i.prototype.onData=function(o){this.chunks.push(o)},i.prototype.onEnd=function(o){o===d.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):l.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg},k.Inflate=i,k.inflate=u,k.inflateRaw=function(o,s){return(s=s||{}).raw=!0,u(o,s)},k.ungzip=u},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(b,T,k){"use strict";var h=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";k.assign=function(d){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var w=g.shift();if(w){if("object"!=typeof w)throw new TypeError(w+"must be non-object");for(var m in w)w.hasOwnProperty(m)&&(d[m]=w[m])}}return d},k.shrinkBuf=function(d,g){return d.length===g?d:d.subarray?d.subarray(0,g):(d.length=g,d)};var l={arraySet:function(d,g,w,m,v){if(g.subarray&&d.subarray)d.set(g.subarray(w,w+m),v);else for(var i=0;i<m;i++)d[v+i]=g[w+i]},flattenChunks:function(d){var g,w,m,v,i,u;for(g=m=0,w=d.length;g<w;g++)m+=d[g].length;for(u=new Uint8Array(m),g=v=0,w=d.length;g<w;g++)u.set(i=d[g],v),v+=i.length;return u}},r={arraySet:function(d,g,w,m,v){for(var i=0;i<m;i++)d[v+i]=g[w+i]},flattenChunks:function(d){return[].concat.apply([],d)}};k.setTyped=function(d){d?(k.Buf8=Uint8Array,k.Buf16=Uint16Array,k.Buf32=Int32Array,k.assign(k,l)):(k.Buf8=Array,k.Buf16=Array,k.Buf32=Array,k.assign(k,r))},k.setTyped(h)},{}],42:[function(b,T,k){"use strict";var h=b("./common"),l=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var d=new h.Buf8(256),g=0;g<256;g++)d[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function w(m,v){if(v<65537&&(m.subarray&&r||!m.subarray&&l))return String.fromCharCode.apply(null,h.shrinkBuf(m,v));for(var i="",u=0;u<v;u++)i+=String.fromCharCode(m[u]);return i}d[254]=d[254]=1,k.string2buf=function(m){var v,i,u,o,s,a=m.length,p=0;for(o=0;o<a;o++)55296==(64512&(i=m.charCodeAt(o)))&&o+1<a&&56320==(64512&(u=m.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(u-56320),o++),p+=i<128?1:i<2048?2:i<65536?3:4;for(v=new h.Buf8(p),o=s=0;s<p;o++)55296==(64512&(i=m.charCodeAt(o)))&&o+1<a&&56320==(64512&(u=m.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(u-56320),o++),i<128?v[s++]=i:(i<2048?v[s++]=192|i>>>6:(i<65536?v[s++]=224|i>>>12:(v[s++]=240|i>>>18,v[s++]=128|i>>>12&63),v[s++]=128|i>>>6&63),v[s++]=128|63&i);return v},k.buf2binstring=function(m){return w(m,m.length)},k.binstring2buf=function(m){for(var v=new h.Buf8(m.length),i=0,u=v.length;i<u;i++)v[i]=m.charCodeAt(i);return v},k.buf2string=function(m,v){var i,u,o,s,a=v||m.length,p=new Array(2*a);for(i=u=0;i<a;)if((o=m[i++])<128)p[u++]=o;else if(4<(s=d[o]))p[u++]=65533,i+=s-1;else{for(o&=2===s?31:3===s?15:7;1<s&&i<a;)o=o<<6|63&m[i++],s--;1<s?p[u++]=65533:o<65536?p[u++]=o:(p[u++]=55296|(o-=65536)>>10&1023,p[u++]=56320|1023&o)}return w(p,u)},k.utf8border=function(m,v){var i;for((v=v||m.length)>m.length&&(v=m.length),i=v-1;0<=i&&128==(192&m[i]);)i--;return i<0||0===i?v:i+d[m[i]]>v?i:v}},{"./common":41}],43:[function(b,T,k){"use strict";T.exports=function(h,l,r,d){for(var g=65535&h|0,w=h>>>16&65535|0,m=0;0!==r;){for(r-=m=2e3<r?2e3:r;w=w+(g=g+l[d++]|0)|0,--m;);g%=65521,w%=65521}return g|w<<16|0}},{}],44:[function(b,T,k){"use strict";T.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(b,T,k){"use strict";var h=function(){for(var l,r=[],d=0;d<256;d++){l=d;for(var g=0;g<8;g++)l=1&l?3988292384^l>>>1:l>>>1;r[d]=l}return r}();T.exports=function(l,r,d,g){var w=h,m=g+d;l^=-1;for(var v=g;v<m;v++)l=l>>>8^w[255&(l^r[v])];return-1^l}},{}],46:[function(b,T,k){"use strict";var h,l=b("../utils/common"),r=b("./trees"),d=b("./adler32"),g=b("./crc32"),w=b("./messages"),u=-2,H=258,tt=262,N=113;function rt(e,R){return e.msg=w[R],R}function j(e){return(e<<1)-(4<e?9:0)}function nt(e){for(var R=e.length;0<=--R;)e[R]=0}function z(e){var R=e.state,O=R.pending;O>e.avail_out&&(O=e.avail_out),0!==O&&(l.arraySet(e.output,R.pending_buf,R.pending_out,O,e.next_out),e.next_out+=O,R.pending_out+=O,e.total_out+=O,e.avail_out-=O,R.pending-=O,0===R.pending&&(R.pending_out=0))}function E(e,R){r._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,R),e.block_start=e.strstart,z(e.strm)}function V(e,R){e.pending_buf[e.pending++]=R}function Q(e,R){e.pending_buf[e.pending++]=R>>>8&255,e.pending_buf[e.pending++]=255&R}function Y(e,R){var O,f,c=e.max_chain_length,C=e.strstart,U=e.prev_length,P=e.nice_match,I=e.strstart>e.w_size-tt?e.strstart-(e.w_size-tt):0,G=e.window,K=e.w_mask,J=e.prev,X=e.strstart+H,st=G[C+U-1],ot=G[C+U];e.prev_length>=e.good_match&&(c>>=2),P>e.lookahead&&(P=e.lookahead);do{if(G[(O=R)+U]===ot&&G[O+U-1]===st&&G[O]===G[C]&&G[++O]===G[C+1]){C+=2,O++;do{}while(G[++C]===G[++O]&&G[++C]===G[++O]&&G[++C]===G[++O]&&G[++C]===G[++O]&&G[++C]===G[++O]&&G[++C]===G[++O]&&G[++C]===G[++O]&&G[++C]===G[++O]&&C<X);if(f=H-(X-C),C=X-H,U<f){if(e.match_start=R,P<=(U=f))break;st=G[C+U-1],ot=G[C+U]}}}while((R=J[R&K])>I&&0!=--c);return U<=e.lookahead?U:e.lookahead}function lt(e){var R,O,f,c,C,U,P,I,G,K,J=e.w_size;do{if(c=e.window_size-e.lookahead-e.strstart,e.strstart>=J+(J-tt)){for(l.arraySet(e.window,e.window,J,J,0),e.match_start-=J,e.strstart-=J,e.block_start-=J,R=O=e.hash_size;f=e.head[--R],e.head[R]=J<=f?f-J:0,--O;);for(R=O=J;f=e.prev[--R],e.prev[R]=J<=f?f-J:0,--O;);c+=J}if(0===e.strm.avail_in)break;if(P=e.window,I=e.strstart+e.lookahead,K=void 0,(G=c)<(K=(U=e.strm).avail_in)&&(K=G),O=0===K?0:(U.avail_in-=K,l.arraySet(P,U.input,U.next_in,K,I),1===U.state.wrap?U.adler=d(U.adler,P,K,I):2===U.state.wrap&&(U.adler=g(U.adler,P,K,I)),U.next_in+=K,U.total_in+=K,K),e.lookahead+=O,e.lookahead+e.insert>=3)for(e.ins_h=e.window[C=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[C+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[C+3-1])&e.hash_mask,e.prev[C&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=C,C++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<tt&&0!==e.strm.avail_in)}function dt(e,R){for(var O,f;;){if(e.lookahead<tt){if(lt(e),e.lookahead<tt&&0===R)return 1;if(0===e.lookahead)break}if(O=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,O=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==O&&e.strstart-O<=e.w_size-tt&&(e.match_length=Y(e,O)),e.match_length>=3)if(f=r._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,O=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else f=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(f&&(E(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===R?(E(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(E(e,!1),0===e.strm.avail_out)?1:2}function it(e,R){for(var O,f,c;;){if(e.lookahead<tt){if(lt(e),e.lookahead<tt&&0===R)return 1;if(0===e.lookahead)break}if(O=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,O=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==O&&e.prev_length<e.max_lazy_match&&e.strstart-O<=e.w_size-tt&&(e.match_length=Y(e,O),e.match_length<=5&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){for(c=e.strstart+e.lookahead-3,f=r._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=c&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,O=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,f&&(E(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((f=r._tr_tally(e,0,e.window[e.strstart-1]))&&E(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(f=r._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===R?(E(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(E(e,!1),0===e.strm.avail_out)?1:2}function at(e,R,O,f,c){this.good_length=e,this.max_lazy=R,this.nice_length=O,this.max_chain=f,this.func=c}function ut(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(1146),this.dyn_dtree=new l.Buf16(122),this.bl_tree=new l.Buf16(78),nt(this.dyn_ltree),nt(this.dyn_dtree),nt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(16),this.heap=new l.Buf16(573),nt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(573),nt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ct(e){var R;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(R=e.state).pending=0,R.pending_out=0,R.wrap<0&&(R.wrap=-R.wrap),R.status=R.wrap?42:N,e.adler=2===R.wrap?0:1,R.last_flush=0,r._tr_init(R),0):rt(e,u)}function gt(e){var O,R=ct(e);return 0===R&&((O=e.state).window_size=2*O.w_size,nt(O.head),O.max_lazy_match=h[O.level].max_lazy,O.good_match=h[O.level].good_length,O.nice_match=h[O.level].nice_length,O.max_chain_length=h[O.level].max_chain,O.strstart=0,O.block_start=0,O.lookahead=0,O.insert=0,O.match_length=O.prev_length=2,O.match_available=0,O.ins_h=0),R}function _t(e,R,O,f,c,C){if(!e)return u;var U=1;if(-1===R&&(R=6),f<0?(U=0,f=-f):15<f&&(U=2,f-=16),c<1||9<c||8!==O||f<8||15<f||R<0||9<R||C<0||4<C)return rt(e,u);8===f&&(f=9);var P=new ut;return(e.state=P).strm=e,P.wrap=U,P.gzhead=null,P.w_bits=f,P.w_size=1<<P.w_bits,P.w_mask=P.w_size-1,P.hash_bits=c+7,P.hash_size=1<<P.hash_bits,P.hash_mask=P.hash_size-1,P.hash_shift=~~((P.hash_bits+3-1)/3),P.window=new l.Buf8(2*P.w_size),P.head=new l.Buf16(P.hash_size),P.prev=new l.Buf16(P.w_size),P.lit_bufsize=1<<c+6,P.pending_buf_size=4*P.lit_bufsize,P.pending_buf=new l.Buf8(P.pending_buf_size),P.d_buf=1*P.lit_bufsize,P.l_buf=3*P.lit_bufsize,P.level=R,P.strategy=C,P.method=O,gt(e)}h=[new at(0,0,0,0,function(e,R){var O=65535;for(O>e.pending_buf_size-5&&(O=e.pending_buf_size-5);;){if(e.lookahead<=1){if(lt(e),0===e.lookahead&&0===R)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var f=e.block_start+O;if((0===e.strstart||e.strstart>=f)&&(e.lookahead=e.strstart-f,e.strstart=f,E(e,!1),0===e.strm.avail_out)||e.strstart-e.block_start>=e.w_size-tt&&(E(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===R?(E(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&E(e,!1),1)}),new at(4,4,8,4,dt),new at(4,5,16,8,dt),new at(4,6,32,32,dt),new at(4,4,16,16,it),new at(8,16,32,32,it),new at(8,16,128,128,it),new at(8,32,128,256,it),new at(32,128,258,1024,it),new at(32,258,258,4096,it)],k.deflateInit=function(e,R){return _t(e,R,8,15,8,0)},k.deflateInit2=_t,k.deflateReset=gt,k.deflateResetKeep=ct,k.deflateSetHeader=function(e,R){return e&&e.state?2!==e.state.wrap?u:(e.state.gzhead=R,0):u},k.deflate=function(e,R){var O,f,c,C;if(!e||!e.state||5<R||R<0)return e?rt(e,u):u;if(f=e.state,!e.output||!e.input&&0!==e.avail_in||666===f.status&&4!==R)return rt(e,0===e.avail_out?-5:u);if(f.strm=e,O=f.last_flush,f.last_flush=R,42===f.status)if(2===f.wrap)e.adler=0,V(f,31),V(f,139),V(f,8),f.gzhead?(V(f,(f.gzhead.text?1:0)+(f.gzhead.hcrc?2:0)+(f.gzhead.extra?4:0)+(f.gzhead.name?8:0)+(f.gzhead.comment?16:0)),V(f,255&f.gzhead.time),V(f,f.gzhead.time>>8&255),V(f,f.gzhead.time>>16&255),V(f,f.gzhead.time>>24&255),V(f,9===f.level?2:2<=f.strategy||f.level<2?4:0),V(f,255&f.gzhead.os),f.gzhead.extra&&f.gzhead.extra.length&&(V(f,255&f.gzhead.extra.length),V(f,f.gzhead.extra.length>>8&255)),f.gzhead.hcrc&&(e.adler=g(e.adler,f.pending_buf,f.pending,0)),f.gzindex=0,f.status=69):(V(f,0),V(f,0),V(f,0),V(f,0),V(f,0),V(f,9===f.level?2:2<=f.strategy||f.level<2?4:0),V(f,3),f.status=N);else{var U=8+(f.w_bits-8<<4)<<8;U|=(2<=f.strategy||f.level<2?0:f.level<6?1:6===f.level?2:3)<<6,0!==f.strstart&&(U|=32),U+=31-U%31,f.status=N,Q(f,U),0!==f.strstart&&(Q(f,e.adler>>>16),Q(f,65535&e.adler)),e.adler=1}if(69===f.status)if(f.gzhead.extra){for(c=f.pending;f.gzindex<(65535&f.gzhead.extra.length)&&(f.pending!==f.pending_buf_size||(f.gzhead.hcrc&&f.pending>c&&(e.adler=g(e.adler,f.pending_buf,f.pending-c,c)),z(e),c=f.pending,f.pending!==f.pending_buf_size));)V(f,255&f.gzhead.extra[f.gzindex]),f.gzindex++;f.gzhead.hcrc&&f.pending>c&&(e.adler=g(e.adler,f.pending_buf,f.pending-c,c)),f.gzindex===f.gzhead.extra.length&&(f.gzindex=0,f.status=73)}else f.status=73;if(73===f.status)if(f.gzhead.name){c=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>c&&(e.adler=g(e.adler,f.pending_buf,f.pending-c,c)),z(e),c=f.pending,f.pending===f.pending_buf_size)){C=1;break}C=f.gzindex<f.gzhead.name.length?255&f.gzhead.name.charCodeAt(f.gzindex++):0,V(f,C)}while(0!==C);f.gzhead.hcrc&&f.pending>c&&(e.adler=g(e.adler,f.pending_buf,f.pending-c,c)),0===C&&(f.gzindex=0,f.status=91)}else f.status=91;if(91===f.status)if(f.gzhead.comment){c=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>c&&(e.adler=g(e.adler,f.pending_buf,f.pending-c,c)),z(e),c=f.pending,f.pending===f.pending_buf_size)){C=1;break}C=f.gzindex<f.gzhead.comment.length?255&f.gzhead.comment.charCodeAt(f.gzindex++):0,V(f,C)}while(0!==C);f.gzhead.hcrc&&f.pending>c&&(e.adler=g(e.adler,f.pending_buf,f.pending-c,c)),0===C&&(f.status=103)}else f.status=103;if(103===f.status&&(f.gzhead.hcrc?(f.pending+2>f.pending_buf_size&&z(e),f.pending+2<=f.pending_buf_size&&(V(f,255&e.adler),V(f,e.adler>>8&255),e.adler=0,f.status=N)):f.status=N),0!==f.pending){if(z(e),0===e.avail_out)return f.last_flush=-1,0}else if(0===e.avail_in&&j(R)<=j(O)&&4!==R)return rt(e,-5);if(666===f.status&&0!==e.avail_in)return rt(e,-5);if(0!==e.avail_in||0!==f.lookahead||0!==R&&666!==f.status){var P=2===f.strategy?function(I,G){for(var K;;){if(0===I.lookahead&&(lt(I),0===I.lookahead)){if(0===G)return 1;break}if(I.match_length=0,K=r._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++,K&&(E(I,!1),0===I.strm.avail_out))return 1}return I.insert=0,4===G?(E(I,!0),0===I.strm.avail_out?3:4):I.last_lit&&(E(I,!1),0===I.strm.avail_out)?1:2}(f,R):3===f.strategy?function(I,G){for(var K,J,X,st,ot=I.window;;){if(I.lookahead<=H){if(lt(I),I.lookahead<=H&&0===G)return 1;if(0===I.lookahead)break}if(I.match_length=0,I.lookahead>=3&&0<I.strstart&&(J=ot[X=I.strstart-1])===ot[++X]&&J===ot[++X]&&J===ot[++X]){st=I.strstart+H;do{}while(J===ot[++X]&&J===ot[++X]&&J===ot[++X]&&J===ot[++X]&&J===ot[++X]&&J===ot[++X]&&J===ot[++X]&&J===ot[++X]&&X<st);I.match_length=H-(st-X),I.match_length>I.lookahead&&(I.match_length=I.lookahead)}if(I.match_length>=3?(K=r._tr_tally(I,1,I.match_length-3),I.lookahead-=I.match_length,I.strstart+=I.match_length,I.match_length=0):(K=r._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++),K&&(E(I,!1),0===I.strm.avail_out))return 1}return I.insert=0,4===G?(E(I,!0),0===I.strm.avail_out?3:4):I.last_lit&&(E(I,!1),0===I.strm.avail_out)?1:2}(f,R):h[f.level].func(f,R);if(3!==P&&4!==P||(f.status=666),1===P||3===P)return 0===e.avail_out&&(f.last_flush=-1),0;if(2===P&&(1===R?r._tr_align(f):5!==R&&(r._tr_stored_block(f,0,0,!1),3===R&&(nt(f.head),0===f.lookahead&&(f.strstart=0,f.block_start=0,f.insert=0))),z(e),0===e.avail_out))return f.last_flush=-1,0}return 4!==R?0:f.wrap<=0?1:(2===f.wrap?(V(f,255&e.adler),V(f,e.adler>>8&255),V(f,e.adler>>16&255),V(f,e.adler>>24&255),V(f,255&e.total_in),V(f,e.total_in>>8&255),V(f,e.total_in>>16&255),V(f,e.total_in>>24&255)):(Q(f,e.adler>>>16),Q(f,65535&e.adler)),z(e),0<f.wrap&&(f.wrap=-f.wrap),0!==f.pending?0:1)},k.deflateEnd=function(e){var R;return e&&e.state?42!==(R=e.state.status)&&69!==R&&73!==R&&91!==R&&103!==R&&R!==N&&666!==R?rt(e,u):(e.state=null,R===N?rt(e,-3):0):u},k.deflateSetDictionary=function(e,R){var O,f,c,C,U,P,I,G,K=R.length;if(!e||!e.state||2===(C=(O=e.state).wrap)||1===C&&42!==O.status||O.lookahead)return u;for(1===C&&(e.adler=d(e.adler,R,K,0)),O.wrap=0,K>=O.w_size&&(0===C&&(nt(O.head),O.strstart=0,O.block_start=0,O.insert=0),G=new l.Buf8(O.w_size),l.arraySet(G,R,K-O.w_size,O.w_size,0),R=G,K=O.w_size),U=e.avail_in,P=e.next_in,I=e.input,e.avail_in=K,e.next_in=0,e.input=R,lt(O);O.lookahead>=3;){for(f=O.strstart,c=O.lookahead-2;O.ins_h=(O.ins_h<<O.hash_shift^O.window[f+3-1])&O.hash_mask,O.prev[f&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=f,f++,--c;);O.strstart=f,O.lookahead=2,lt(O)}return O.strstart+=O.lookahead,O.block_start=O.strstart,O.insert=O.lookahead,O.lookahead=0,O.match_length=O.prev_length=2,O.match_available=0,e.next_in=P,e.input=I,e.avail_in=U,O.wrap=C,0},k.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(b,T,k){"use strict";T.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(b,T,k){"use strict";T.exports=function(h,l){var r,d,g,w,m,v,i,u,o,s,a,p,y,t,S,B,D,L,Z,H,tt,_,N,n,F;n=h.input,g=(d=h.next_in)+(h.avail_in-5),F=h.output,m=(w=h.next_out)-(l-h.avail_out),v=w+(h.avail_out-257),i=(r=h.state).dmax,u=r.wsize,o=r.whave,s=r.wnext,a=r.window,p=r.hold,y=r.bits,t=r.lencode,S=r.distcode,B=(1<<r.lenbits)-1,D=(1<<r.distbits)-1;t:do{y<15&&(p+=n[d++]<<y,p+=n[d++]<<(y+=8),y+=8),L=t[p&B];e:for(;;){if(p>>>=Z=L>>>24,y-=Z,0==(Z=L>>>16&255))F[w++]=65535&L;else{if(!(16&Z)){if(!(64&Z)){L=t[(65535&L)+(p&(1<<Z)-1)];continue e}if(32&Z){r.mode=12;break t}h.msg="invalid literal/length code",r.mode=30;break t}H=65535&L,(Z&=15)&&(y<Z&&(p+=n[d++]<<y,y+=8),H+=p&(1<<Z)-1,p>>>=Z,y-=Z),y<15&&(p+=n[d++]<<y,p+=n[d++]<<(y+=8),y+=8),L=S[p&D];n:for(;;){if(p>>>=Z=L>>>24,y-=Z,!(16&(Z=L>>>16&255))){if(!(64&Z)){L=S[(65535&L)+(p&(1<<Z)-1)];continue n}h.msg="invalid distance code",r.mode=30;break t}if(tt=65535&L,y<(Z&=15)&&(p+=n[d++]<<y,(y+=8)<Z&&(p+=n[d++]<<y,y+=8)),i<(tt+=p&(1<<Z)-1)){h.msg="invalid distance too far back",r.mode=30;break t}if(p>>>=Z,y-=Z,(Z=w-m)<tt){if(o<(Z=tt-Z)&&r.sane){h.msg="invalid distance too far back",r.mode=30;break t}if(N=a,(_=0)===s){if(_+=u-Z,Z<H){for(H-=Z;F[w++]=a[_++],--Z;);_=w-tt,N=F}}else if(s<Z){if(_+=u+s-Z,(Z-=s)<H){for(H-=Z;F[w++]=a[_++],--Z;);if(_=0,s<H){for(H-=Z=s;F[w++]=a[_++],--Z;);_=w-tt,N=F}}}else if(_+=s-Z,Z<H){for(H-=Z;F[w++]=a[_++],--Z;);_=w-tt,N=F}for(;2<H;)F[w++]=N[_++],F[w++]=N[_++],F[w++]=N[_++],H-=3;H&&(F[w++]=N[_++],1<H&&(F[w++]=N[_++]))}else{for(_=w-tt;F[w++]=F[_++],F[w++]=F[_++],F[w++]=F[_++],2<(H-=3););H&&(F[w++]=F[_++],1<H&&(F[w++]=F[_++]))}break}}break}}while(d<g&&w<v);d-=H=y>>3,p&=(1<<(y-=H<<3))-1,h.next_in=d,h.next_out=w,h.avail_in=d<g?g-d+5:5-(d-g),h.avail_out=w<v?v-w+257:257-(w-v),r.hold=p,r.bits=y}},{}],49:[function(b,T,k){"use strict";var h=b("../utils/common"),l=b("./adler32"),r=b("./crc32"),d=b("./inffast"),g=b("./inftrees"),i=-2;function a(_){return(_>>>24&255)+(_>>>8&65280)+((65280&_)<<8)+((255&_)<<24)}function p(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new h.Buf16(320),this.work=new h.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(_){var N;return _&&_.state?(_.total_in=_.total_out=(N=_.state).total=0,_.msg="",N.wrap&&(_.adler=1&N.wrap),N.mode=1,N.last=0,N.havedict=0,N.dmax=32768,N.head=null,N.hold=0,N.bits=0,N.lencode=N.lendyn=new h.Buf32(852),N.distcode=N.distdyn=new h.Buf32(592),N.sane=1,N.back=-1,0):i}function t(_){var N;return _&&_.state?((N=_.state).wsize=0,N.whave=0,N.wnext=0,y(_)):i}function S(_,N){var n,F;return _&&_.state?(F=_.state,N<0?(n=0,N=-N):(n=1+(N>>4),N<48&&(N&=15)),N&&(N<8||15<N)?i:(null!==F.window&&F.wbits!==N&&(F.window=null),F.wrap=n,F.wbits=N,t(_))):i}function B(_,N){var n,F;return _?(F=new p,(_.state=F).window=null,0!==(n=S(_,N))&&(_.state=null),n):i}var D,L,Z=!0;function H(_){if(Z){var N;for(D=new h.Buf32(512),L=new h.Buf32(32),N=0;N<144;)_.lens[N++]=8;for(;N<256;)_.lens[N++]=9;for(;N<280;)_.lens[N++]=7;for(;N<288;)_.lens[N++]=8;for(g(1,_.lens,0,288,D,0,_.work,{bits:9}),N=0;N<32;)_.lens[N++]=5;g(2,_.lens,0,32,L,0,_.work,{bits:5}),Z=!1}_.lencode=D,_.lenbits=9,_.distcode=L,_.distbits=5}function tt(_,N,n,F){var et,M=_.state;return null===M.window&&(M.wsize=1<<M.wbits,M.wnext=0,M.whave=0,M.window=new h.Buf8(M.wsize)),F>=M.wsize?(h.arraySet(M.window,N,n-M.wsize,M.wsize,0),M.wnext=0,M.whave=M.wsize):(F<(et=M.wsize-M.wnext)&&(et=F),h.arraySet(M.window,N,n-F,et,M.wnext),(F-=et)?(h.arraySet(M.window,N,n-F,F,0),M.wnext=F,M.whave=M.wsize):(M.wnext+=et,M.wnext===M.wsize&&(M.wnext=0),M.whave<M.wsize&&(M.whave+=et))),0}k.inflateReset=t,k.inflateReset2=S,k.inflateResetKeep=y,k.inflateInit=function(_){return B(_,15)},k.inflateInit2=B,k.inflate=function(_,N){var n,F,et,M,rt,j,nt,z,E,V,Q,Y,lt,dt,it,at,ut,ct,gt,_t,e,R,O,f,c=0,C=new h.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!_||!_.state||!_.output||!_.input&&0!==_.avail_in)return i;12===(n=_.state).mode&&(n.mode=13),rt=_.next_out,et=_.output,M=_.next_in,F=_.input,z=n.hold,E=n.bits,V=j=_.avail_in,Q=nt=_.avail_out,R=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;E<16;){if(0===j)break t;j--,z+=F[M++]<<E,E+=8}if(2&n.wrap&&35615===z){C[n.check=0]=255&z,C[1]=z>>>8&255,n.check=r(n.check,C,2,0),E=z=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&z)<<8)+(z>>8))%31){_.msg="incorrect header check",n.mode=30;break}if(8!=(15&z)){_.msg="unknown compression method",n.mode=30;break}if(E-=4,e=8+(15&(z>>>=4)),0===n.wbits)n.wbits=e;else if(e>n.wbits){_.msg="invalid window size",n.mode=30;break}n.dmax=1<<e,_.adler=n.check=1,n.mode=512&z?10:12,E=z=0;break;case 2:for(;E<16;){if(0===j)break t;j--,z+=F[M++]<<E,E+=8}if(n.flags=z,8!=(255&n.flags)){_.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){_.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=z>>8&1),512&n.flags&&(C[0]=255&z,C[1]=z>>>8&255,n.check=r(n.check,C,2,0)),E=z=0,n.mode=3;case 3:for(;E<32;){if(0===j)break t;j--,z+=F[M++]<<E,E+=8}n.head&&(n.head.time=z),512&n.flags&&(C[0]=255&z,C[1]=z>>>8&255,C[2]=z>>>16&255,C[3]=z>>>24&255,n.check=r(n.check,C,4,0)),E=z=0,n.mode=4;case 4:for(;E<16;){if(0===j)break t;j--,z+=F[M++]<<E,E+=8}n.head&&(n.head.xflags=255&z,n.head.os=z>>8),512&n.flags&&(C[0]=255&z,C[1]=z>>>8&255,n.check=r(n.check,C,2,0)),E=z=0,n.mode=5;case 5:if(1024&n.flags){for(;E<16;){if(0===j)break t;j--,z+=F[M++]<<E,E+=8}n.length=z,n.head&&(n.head.extra_len=z),512&n.flags&&(C[0]=255&z,C[1]=z>>>8&255,n.check=r(n.check,C,2,0)),E=z=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(j<(Y=n.length)&&(Y=j),Y&&(n.head&&(e=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),h.arraySet(n.head.extra,F,M,Y,e)),512&n.flags&&(n.check=r(n.check,F,Y,M)),j-=Y,M+=Y,n.length-=Y),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===j)break t;for(Y=0;e=F[M+Y++],n.head&&e&&n.length<65536&&(n.head.name+=String.fromCharCode(e)),e&&Y<j;);if(512&n.flags&&(n.check=r(n.check,F,Y,M)),j-=Y,M+=Y,e)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===j)break t;for(Y=0;e=F[M+Y++],n.head&&e&&n.length<65536&&(n.head.comment+=String.fromCharCode(e)),e&&Y<j;);if(512&n.flags&&(n.check=r(n.check,F,Y,M)),j-=Y,M+=Y,e)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;E<16;){if(0===j)break t;j--,z+=F[M++]<<E,E+=8}if(z!==(65535&n.check)){_.msg="header crc mismatch",n.mode=30;break}E=z=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),_.adler=n.check=0,n.mode=12;break;case 10:for(;E<32;){if(0===j)break t;j--,z+=F[M++]<<E,E+=8}_.adler=n.check=a(z),E=z=0,n.mode=11;case 11:if(0===n.havedict)return _.next_out=rt,_.avail_out=nt,_.next_in=M,_.avail_in=j,n.hold=z,n.bits=E,2;_.adler=n.check=1,n.mode=12;case 12:if(5===N||6===N)break t;case 13:if(n.last){z>>>=7&E,E-=7&E,n.mode=27;break}for(;E<3;){if(0===j)break t;j--,z+=F[M++]<<E,E+=8}switch(n.last=1&z,E-=1,3&(z>>>=1)){case 0:n.mode=14;break;case 1:if(H(n),n.mode=20,6!==N)break;z>>>=2,E-=2;break t;case 2:n.mode=17;break;case 3:_.msg="invalid block type",n.mode=30}z>>>=2,E-=2;break;case 14:for(z>>>=7&E,E-=7&E;E<32;){if(0===j)break t;j--,z+=F[M++]<<E,E+=8}if((65535&z)!=(z>>>16^65535)){_.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&z,E=z=0,n.mode=15,6===N)break t;case 15:n.mode=16;case 16:if(Y=n.length){if(j<Y&&(Y=j),nt<Y&&(Y=nt),0===Y)break t;h.arraySet(et,F,M,Y,rt),j-=Y,M+=Y,nt-=Y,rt+=Y,n.length-=Y;break}n.mode=12;break;case 17:for(;E<14;){if(0===j)break t;j--,z+=F[M++]<<E,E+=8}if(n.nlen=257+(31&z),E-=5,n.ndist=1+(31&(z>>>=5)),E-=5,n.ncode=4+(15&(z>>>=5)),z>>>=4,E-=4,286<n.nlen||30<n.ndist){_.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;E<3;){if(0===j)break t;j--,z+=F[M++]<<E,E+=8}n.lens[U[n.have++]]=7&z,z>>>=3,E-=3}for(;n.have<19;)n.lens[U[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R=g(0,n.lens,0,19,n.lencode,0,n.work,O={bits:n.lenbits}),n.lenbits=O.bits,R){_.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;at=(c=n.lencode[z&(1<<n.lenbits)-1])>>>16&255,ut=65535&c,!((it=c>>>24)<=E);){if(0===j)break t;j--,z+=F[M++]<<E,E+=8}if(ut<16)z>>>=it,E-=it,n.lens[n.have++]=ut;else{if(16===ut){for(f=it+2;E<f;){if(0===j)break t;j--,z+=F[M++]<<E,E+=8}if(z>>>=it,E-=it,0===n.have){_.msg="invalid bit length repeat",n.mode=30;break}e=n.lens[n.have-1],Y=3+(3&z),z>>>=2,E-=2}else if(17===ut){for(f=it+3;E<f;){if(0===j)break t;j--,z+=F[M++]<<E,E+=8}E-=it,e=0,Y=3+(7&(z>>>=it)),z>>>=3,E-=3}else{for(f=it+7;E<f;){if(0===j)break t;j--,z+=F[M++]<<E,E+=8}E-=it,e=0,Y=11+(127&(z>>>=it)),z>>>=7,E-=7}if(n.have+Y>n.nlen+n.ndist){_.msg="invalid bit length repeat",n.mode=30;break}for(;Y--;)n.lens[n.have++]=e}}if(30===n.mode)break;if(0===n.lens[256]){_.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,R=g(1,n.lens,0,n.nlen,n.lencode,0,n.work,O={bits:n.lenbits}),n.lenbits=O.bits,R){_.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,R=g(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,O={bits:n.distbits}),n.distbits=O.bits,R){_.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===N)break t;case 20:n.mode=21;case 21:if(6<=j&&258<=nt){_.next_out=rt,_.avail_out=nt,_.next_in=M,_.avail_in=j,n.hold=z,n.bits=E,d(_,Q),rt=_.next_out,et=_.output,nt=_.avail_out,M=_.next_in,F=_.input,j=_.avail_in,z=n.hold,E=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;at=(c=n.lencode[z&(1<<n.lenbits)-1])>>>16&255,ut=65535&c,!((it=c>>>24)<=E);){if(0===j)break t;j--,z+=F[M++]<<E,E+=8}if(at&&!(240&at)){for(ct=it,gt=at,_t=ut;at=(c=n.lencode[_t+((z&(1<<ct+gt)-1)>>ct)])>>>16&255,ut=65535&c,!(ct+(it=c>>>24)<=E);){if(0===j)break t;j--,z+=F[M++]<<E,E+=8}z>>>=ct,E-=ct,n.back+=ct}if(z>>>=it,E-=it,n.back+=it,n.length=ut,0===at){n.mode=26;break}if(32&at){n.back=-1,n.mode=12;break}if(64&at){_.msg="invalid literal/length code",n.mode=30;break}n.extra=15&at,n.mode=22;case 22:if(n.extra){for(f=n.extra;E<f;){if(0===j)break t;j--,z+=F[M++]<<E,E+=8}n.length+=z&(1<<n.extra)-1,z>>>=n.extra,E-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;at=(c=n.distcode[z&(1<<n.distbits)-1])>>>16&255,ut=65535&c,!((it=c>>>24)<=E);){if(0===j)break t;j--,z+=F[M++]<<E,E+=8}if(!(240&at)){for(ct=it,gt=at,_t=ut;at=(c=n.distcode[_t+((z&(1<<ct+gt)-1)>>ct)])>>>16&255,ut=65535&c,!(ct+(it=c>>>24)<=E);){if(0===j)break t;j--,z+=F[M++]<<E,E+=8}z>>>=ct,E-=ct,n.back+=ct}if(z>>>=it,E-=it,n.back+=it,64&at){_.msg="invalid distance code",n.mode=30;break}n.offset=ut,n.extra=15&at,n.mode=24;case 24:if(n.extra){for(f=n.extra;E<f;){if(0===j)break t;j--,z+=F[M++]<<E,E+=8}n.offset+=z&(1<<n.extra)-1,z>>>=n.extra,E-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){_.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===nt)break t;if(n.offset>(Y=Q-nt)){if((Y=n.offset-Y)>n.whave&&n.sane){_.msg="invalid distance too far back",n.mode=30;break}lt=Y>n.wnext?n.wsize-(Y-=n.wnext):n.wnext-Y,Y>n.length&&(Y=n.length),dt=n.window}else dt=et,lt=rt-n.offset,Y=n.length;for(nt<Y&&(Y=nt),nt-=Y,n.length-=Y;et[rt++]=dt[lt++],--Y;);0===n.length&&(n.mode=21);break;case 26:if(0===nt)break t;et[rt++]=n.length,nt--,n.mode=21;break;case 27:if(n.wrap){for(;E<32;){if(0===j)break t;j--,z|=F[M++]<<E,E+=8}if(_.total_out+=Q-=nt,n.total+=Q,Q&&(_.adler=n.check=n.flags?r(n.check,et,Q,rt-Q):l(n.check,et,Q,rt-Q)),Q=nt,(n.flags?z:a(z))!==n.check){_.msg="incorrect data check",n.mode=30;break}E=z=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;E<32;){if(0===j)break t;j--,z+=F[M++]<<E,E+=8}if(z!==(4294967295&n.total)){_.msg="incorrect length check",n.mode=30;break}E=z=0}n.mode=29;case 29:R=1;break t;case 30:R=-3;break t;case 31:return-4;default:return i}return _.next_out=rt,_.avail_out=nt,_.next_in=M,_.avail_in=j,n.hold=z,n.bits=E,(n.wsize||Q!==_.avail_out&&n.mode<30&&(n.mode<27||4!==N))&&tt(_,_.output,_.next_out,Q-_.avail_out)?(n.mode=31,-4):(Q-=_.avail_out,_.total_in+=V-=_.avail_in,_.total_out+=Q,n.total+=Q,n.wrap&&Q&&(_.adler=n.check=n.flags?r(n.check,et,Q,_.next_out-Q):l(n.check,et,Q,_.next_out-Q)),_.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==V&&0===Q||4===N)&&0===R&&(R=-5),R)},k.inflateEnd=function(_){if(!_||!_.state)return i;var N=_.state;return N.window&&(N.window=null),_.state=null,0},k.inflateGetHeader=function(_,N){var n;return _&&_.state&&2&(n=_.state).wrap?((n.head=N).done=!1,0):i},k.inflateSetDictionary=function(_,N){var n,F=N.length;return _&&_.state?0!==(n=_.state).wrap&&11!==n.mode?i:11===n.mode&&l(1,N,F,0)!==n.check?-3:tt(_,N,F,F)?(n.mode=31,-4):(n.havedict=1,0):i},k.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(b,T,k){"use strict";var h=b("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];T.exports=function(w,m,v,i,u,o,s,a){var p,y,t,S,B,D,L,Z,H,tt=a.bits,_=0,N=0,n=0,F=0,et=0,M=0,rt=0,j=0,nt=0,z=0,E=null,V=0,Q=new h.Buf16(16),Y=new h.Buf16(16),lt=null,dt=0;for(_=0;_<=15;_++)Q[_]=0;for(N=0;N<i;N++)Q[m[v+N]]++;for(et=tt,F=15;1<=F&&0===Q[F];F--);if(F<et&&(et=F),0===F)return u[o++]=20971520,u[o++]=20971520,a.bits=1,0;for(n=1;n<F&&0===Q[n];n++);for(et<n&&(et=n),_=j=1;_<=15;_++)if(j<<=1,(j-=Q[_])<0)return-1;if(0<j&&(0===w||1!==F))return-1;for(Y[1]=0,_=1;_<15;_++)Y[_+1]=Y[_]+Q[_];for(N=0;N<i;N++)0!==m[v+N]&&(s[Y[m[v+N]]++]=N);if(D=0===w?(E=lt=s,19):1===w?(E=l,V-=257,lt=r,dt-=257,256):(E=d,lt=g,-1),_=n,B=o,rt=N=z=0,t=-1,S=(nt=1<<(M=et))-1,1===w&&852<nt||2===w&&592<nt)return 1;for(;;){for(L=_-rt,H=s[N]<D?(Z=0,s[N]):s[N]>D?(Z=lt[dt+s[N]],E[V+s[N]]):(Z=96,0),p=1<<_-rt,n=y=1<<M;u[B+(z>>rt)+(y-=p)]=L<<24|Z<<16|H|0,0!==y;);for(p=1<<_-1;z&p;)p>>=1;if(0!==p?(z&=p-1,z+=p):z=0,N++,0==--Q[_]){if(_===F)break;_=m[v+s[N]]}if(et<_&&(z&S)!==t){for(0===rt&&(rt=et),B+=n,j=1<<(M=_-rt);M+rt<F&&!((j-=Q[M+rt])<=0);)M++,j<<=1;if(nt+=1<<M,1===w&&852<nt||2===w&&592<nt)return 1;u[t=z&S]=et<<24|M<<16|B-o|0}}return 0!==z&&(u[B+z]=_-rt<<24|64<<16|0),a.bits=et,0}},{"../utils/common":41}],51:[function(b,T,k){"use strict";T.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(b,T,k){"use strict";var h=b("../utils/common");function d(c){for(var C=c.length;0<=--C;)c[C]=0}var m=256,v=286,i=30,s=15,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],tt=new Array(576);d(tt);var _=new Array(60);d(_);var N=new Array(512);d(N);var n=new Array(256);d(n);var F=new Array(29);d(F);var et,M,rt,j=new Array(i);function nt(c,C,U,P,I){this.static_tree=c,this.extra_bits=C,this.extra_base=U,this.elems=P,this.max_length=I,this.has_stree=c&&c.length}function z(c,C){this.dyn_tree=c,this.max_code=0,this.stat_desc=C}function E(c){return c<256?N[c]:N[256+(c>>>7)]}function V(c,C){c.pending_buf[c.pending++]=255&C,c.pending_buf[c.pending++]=C>>>8&255}function Q(c,C,U){c.bi_valid>16-U?(c.bi_buf|=C<<c.bi_valid&65535,V(c,c.bi_buf),c.bi_buf=C>>16-c.bi_valid,c.bi_valid+=U-16):(c.bi_buf|=C<<c.bi_valid&65535,c.bi_valid+=U)}function Y(c,C,U){Q(c,U[2*C],U[2*C+1])}function lt(c,C){for(var U=0;U|=1&c,c>>>=1,U<<=1,0<--C;);return U>>>1}function dt(c,C,U){var P,I,G=new Array(16),K=0;for(P=1;P<=s;P++)G[P]=K=K+U[P-1]<<1;for(I=0;I<=C;I++){var J=c[2*I+1];0!==J&&(c[2*I]=lt(G[J]++,J))}}function it(c){var C;for(C=0;C<v;C++)c.dyn_ltree[2*C]=0;for(C=0;C<i;C++)c.dyn_dtree[2*C]=0;for(C=0;C<19;C++)c.bl_tree[2*C]=0;c.dyn_ltree[512]=1,c.opt_len=c.static_len=0,c.last_lit=c.matches=0}function at(c){8<c.bi_valid?V(c,c.bi_buf):0<c.bi_valid&&(c.pending_buf[c.pending++]=c.bi_buf),c.bi_buf=0,c.bi_valid=0}function ut(c,C,U,P){var I=2*C,G=2*U;return c[I]<c[G]||c[I]===c[G]&&P[C]<=P[U]}function ct(c,C,U){for(var P=c.heap[U],I=U<<1;I<=c.heap_len&&(I<c.heap_len&&ut(C,c.heap[I+1],c.heap[I],c.depth)&&I++,!ut(C,P,c.heap[I],c.depth));)c.heap[U]=c.heap[I],U=I,I<<=1;c.heap[U]=P}function gt(c,C,U){var P,I,G,K,J=0;if(0!==c.last_lit)for(;P=c.pending_buf[c.d_buf+2*J]<<8|c.pending_buf[c.d_buf+2*J+1],I=c.pending_buf[c.l_buf+J],J++,0===P?Y(c,I,C):(Y(c,(G=n[I])+m+1,C),0!==(K=D[G])&&Q(c,I-=F[G],K),Y(c,G=E(--P),U),0!==(K=L[G])&&Q(c,P-=j[G],K)),J<c.last_lit;);Y(c,256,C)}function _t(c,C){var U,P,I,G=C.dyn_tree,K=C.stat_desc.static_tree,J=C.stat_desc.has_stree,X=C.stat_desc.elems,st=-1;for(c.heap_len=0,c.heap_max=573,U=0;U<X;U++)0!==G[2*U]?(c.heap[++c.heap_len]=st=U,c.depth[U]=0):G[2*U+1]=0;for(;c.heap_len<2;)G[2*(I=c.heap[++c.heap_len]=st<2?++st:0)]=1,c.depth[I]=0,c.opt_len--,J&&(c.static_len-=K[2*I+1]);for(C.max_code=st,U=c.heap_len>>1;1<=U;U--)ct(c,G,U);for(I=X;U=c.heap[1],c.heap[1]=c.heap[c.heap_len--],ct(c,G,1),P=c.heap[1],c.heap[--c.heap_max]=U,c.heap[--c.heap_max]=P,G[2*I]=G[2*U]+G[2*P],c.depth[I]=(c.depth[U]>=c.depth[P]?c.depth[U]:c.depth[P])+1,G[2*U+1]=G[2*P+1]=I,c.heap[1]=I++,ct(c,G,1),2<=c.heap_len;);c.heap[--c.heap_max]=c.heap[1],function(ot,pt){var vt,ht,W,x,A,q,$=pt.dyn_tree,ft=pt.max_code,mt=pt.stat_desc.static_tree,xt=pt.stat_desc.has_stree,wt=pt.stat_desc.extra_bits,yt=pt.stat_desc.extra_base,bt=pt.stat_desc.max_length,Ct=0;for(x=0;x<=s;x++)ot.bl_count[x]=0;for($[2*ot.heap[ot.heap_max]+1]=0,vt=ot.heap_max+1;vt<573;vt++)bt<(x=$[2*$[2*(ht=ot.heap[vt])+1]+1]+1)&&(x=bt,Ct++),$[2*ht+1]=x,ft<ht||(ot.bl_count[x]++,A=0,yt<=ht&&(A=wt[ht-yt]),ot.opt_len+=(q=$[2*ht])*(x+A),xt&&(ot.static_len+=q*(mt[2*ht+1]+A)));if(0!==Ct){do{for(x=bt-1;0===ot.bl_count[x];)x--;ot.bl_count[x]--,ot.bl_count[x+1]+=2,ot.bl_count[bt]--,Ct-=2}while(0<Ct);for(x=bt;0!==x;x--)for(ht=ot.bl_count[x];0!==ht;)ft<(W=ot.heap[--vt])||($[2*W+1]!==x&&(ot.opt_len+=(x-$[2*W+1])*$[2*W],$[2*W+1]=x),ht--)}}(c,C),dt(G,st,c.bl_count)}function e(c,C,U){var P,I,G=-1,K=C[1],J=0,X=7,st=4;for(0===K&&(X=138,st=3),C[2*(U+1)+1]=65535,P=0;P<=U;P++)I=K,K=C[2*(P+1)+1],++J<X&&I===K||(J<st?c.bl_tree[2*I]+=J:0!==I?(I!==G&&c.bl_tree[2*I]++,c.bl_tree[32]++):J<=10?c.bl_tree[34]++:c.bl_tree[36]++,G=I,st=(J=0)===K?(X=138,3):I===K?(X=6,3):(X=7,4))}function R(c,C,U){var P,I,G=-1,K=C[1],J=0,X=7,st=4;for(0===K&&(X=138,st=3),P=0;P<=U;P++)if(I=K,K=C[2*(P+1)+1],!(++J<X&&I===K)){if(J<st)for(;Y(c,I,c.bl_tree),0!=--J;);else 0!==I?(I!==G&&(Y(c,I,c.bl_tree),J--),Y(c,16,c.bl_tree),Q(c,J-3,2)):J<=10?(Y(c,17,c.bl_tree),Q(c,J-3,3)):(Y(c,18,c.bl_tree),Q(c,J-11,7));G=I,st=(J=0)===K?(X=138,3):I===K?(X=6,3):(X=7,4)}}d(j);var O=!1;function f(c,C,U,P){var I,G,K;Q(c,0+(P?1:0),3),G=C,K=U,at(I=c),V(I,K),V(I,~K),h.arraySet(I.pending_buf,I.window,G,K,I.pending),I.pending+=K}k._tr_init=function(c){O||(function(){var C,U,P,I,G,K=new Array(16);for(I=P=0;I<28;I++)for(F[I]=P,C=0;C<1<<D[I];C++)n[P++]=I;for(n[P-1]=I,I=G=0;I<16;I++)for(j[I]=G,C=0;C<1<<L[I];C++)N[G++]=I;for(G>>=7;I<i;I++)for(j[I]=G<<7,C=0;C<1<<L[I]-7;C++)N[256+G++]=I;for(U=0;U<=s;U++)K[U]=0;for(C=0;C<=143;)tt[2*C+1]=8,C++,K[8]++;for(;C<=255;)tt[2*C+1]=9,C++,K[9]++;for(;C<=279;)tt[2*C+1]=7,C++,K[7]++;for(;C<=287;)tt[2*C+1]=8,C++,K[8]++;for(dt(tt,287,K),C=0;C<i;C++)_[2*C+1]=5,_[2*C]=lt(C,5);et=new nt(tt,D,257,v,s),M=new nt(_,L,0,i,s),rt=new nt(new Array(0),Z,0,19,7)}(),O=!0),c.l_desc=new z(c.dyn_ltree,et),c.d_desc=new z(c.dyn_dtree,M),c.bl_desc=new z(c.bl_tree,rt),c.bi_buf=0,c.bi_valid=0,it(c)},k._tr_stored_block=f,k._tr_flush_block=function(c,C,U,P){var I,G,K=0;0<c.level?(2===c.strm.data_type&&(c.strm.data_type=function(J){var X,st=4093624447;for(X=0;X<=31;X++,st>>>=1)if(1&st&&0!==J.dyn_ltree[2*X])return 0;if(0!==J.dyn_ltree[18]||0!==J.dyn_ltree[20]||0!==J.dyn_ltree[26])return 1;for(X=32;X<m;X++)if(0!==J.dyn_ltree[2*X])return 1;return 0}(c)),_t(c,c.l_desc),_t(c,c.d_desc),K=function(J){var X;for(e(J,J.dyn_ltree,J.l_desc.max_code),e(J,J.dyn_dtree,J.d_desc.max_code),_t(J,J.bl_desc),X=18;3<=X&&0===J.bl_tree[2*H[X]+1];X--);return J.opt_len+=3*(X+1)+5+5+4,X}(c),(G=c.static_len+3+7>>>3)<=(I=c.opt_len+3+7>>>3)&&(I=G)):I=G=U+5,U+4<=I&&-1!==C?f(c,C,U,P):4===c.strategy||G===I?(Q(c,2+(P?1:0),3),gt(c,tt,_)):(Q(c,4+(P?1:0),3),function(J,X,st,ot){var pt;for(Q(J,X-257,5),Q(J,st-1,5),Q(J,ot-4,4),pt=0;pt<ot;pt++)Q(J,J.bl_tree[2*H[pt]+1],3);R(J,J.dyn_ltree,X-1),R(J,J.dyn_dtree,st-1)}(c,c.l_desc.max_code+1,c.d_desc.max_code+1,K+1),gt(c,c.dyn_ltree,c.dyn_dtree)),it(c),P&&at(c)},k._tr_tally=function(c,C,U){return c.pending_buf[c.d_buf+2*c.last_lit]=C>>>8&255,c.pending_buf[c.d_buf+2*c.last_lit+1]=255&C,c.pending_buf[c.l_buf+c.last_lit]=255&U,c.last_lit++,0===C?c.dyn_ltree[2*U]++:(c.matches++,C--,c.dyn_ltree[2*(n[U]+m+1)]++,c.dyn_dtree[2*E(C)]++),c.last_lit===c.lit_bufsize-1},k._tr_align=function(c){var C;Q(c,2,3),Y(c,256,tt),16===(C=c).bi_valid?(V(C,C.bi_buf),C.bi_buf=0,C.bi_valid=0):8<=C.bi_valid&&(C.pending_buf[C.pending++]=255&C.bi_buf,C.bi_buf>>=8,C.bi_valid-=8)}},{"../utils/common":41}],53:[function(b,T,k){"use strict";T.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(b,T,k){(function(h){!function(l,r){"use strict";if(!l.setImmediate){var d,g,w,m,v=1,i={},u=!1,o=l.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(l);s=s&&s.setTimeout?s:l,d="[object process]"==={}.toString.call(l.process)?function(t){process.nextTick(function(){p(t)})}:function(){if(l.postMessage&&!l.importScripts){var t=!0,S=l.onmessage;return l.onmessage=function(){t=!1},l.postMessage("","*"),l.onmessage=S,t}}()?(m="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",y,!1):l.attachEvent("onmessage",y),function(t){l.postMessage(m+t,"*")}):l.MessageChannel?((w=new MessageChannel).port1.onmessage=function(t){p(t.data)},function(t){w.port2.postMessage(t)}):o&&"onreadystatechange"in o.createElement("script")?(g=o.documentElement,function(t){var S=o.createElement("script");S.onreadystatechange=function(){p(t),S.onreadystatechange=null,g.removeChild(S),S=null},g.appendChild(S)}):function(t){setTimeout(p,0,t)},s.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var S=new Array(arguments.length-1),B=0;B<S.length;B++)S[B]=arguments[B+1];return i[v]={callback:t,args:S},d(v),v++},s.clearImmediate=a}function a(t){delete i[t]}function p(t){if(u)setTimeout(p,0,t);else{var S=i[t];if(S){u=!0;try{!function(B){var D=B.callback,L=B.args;switch(L.length){case 0:D();break;case 1:D(L[0]);break;case 2:D(L[0],L[1]);break;case 3:D(L[0],L[1],L[2]);break;default:D.apply(undefined,L)}}(S)}finally{a(t),u=!1}}}}function y(t){t.source===l&&"string"==typeof t.data&&0===t.data.indexOf(m)&&p(+t.data.slice(m.length))}}(typeof self>"u"?void 0===h?this:h:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}}]);